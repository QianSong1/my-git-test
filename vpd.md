## 1.å‡†å¤‡

RackNerdä¾¿å®œæœåŠ¡å™¨1å°

- æˆç«‹äº 2017 å¹´ï¼Œç¾å›½è€ç‰ŒæœåŠ¡å™¨ä¾›åº”å•†
- ä¼˜å…ˆé€‰æ‹©æ´›æ‰çŸ¶Los Angeles DC02ã€åœ£ä½•å¡San Jose
- ç»ˆèº«ç»­è´¹åŒä»·
- 3å¤©å†…å…è´¹æ›´æ¢1æ¬¡IPï¼Œä¸ç”¨æ‹…å¿ƒå¤±è”
- ç»ˆèº«å…è´¹æµé‡ç¿»å€ï¼šåªéœ€è¦ç®€å•çš„ç¦åˆ©å›å¸–æ“ä½œï¼Œå°±èƒ½ç¿»å€
- æ”¯ä»˜æ–¹å¼çµæ´»ï¼Œæ”¯æŒ PayPalã€ä¿¡ç”¨å¡ã€æ”¯ä»˜å®
- 7x24å°æ—¶å®¢æœï¼Œæ”¯æŒä¸­æ–‡



| CPU  | å†…å­˜  | SSDç¡¬ç›˜ |      æœˆæµé‡å¸¦å®½      |   ä¼˜æƒ ä»·æ ¼    |                           ç‚¹å‡»è´­ä¹°                           |
| :--: | :---: | :-----: | :------------------: | :-----------: | :----------------------------------------------------------: |
| 1 æ ¸ |  1 G  |  25 G   |  2 TBæµé‡/æœˆ @1Gbps  | **$10.6/å¹´**  | **[å®˜ç½‘é“¾æ¥](https://my.racknerd.com/aff.php?aff=17562&pid=923)** |
| 2 æ ¸ | 2.5 G |  45 G   |  3 TBæµé‡/æœˆ @1Gbps  | **$18.66/å¹´** | **[å®˜ç½‘é“¾æ¥](https://my.racknerd.com/aff.php?aff=17562&pid=924)** |
| 3 æ ¸ |  4 G  |  65 G   | 6.5 TBæµé‡/æœˆ @1Gbps | **$29.98/å¹´** | **[å®˜ç½‘é“¾æ¥](https://my.racknerd.com/aff.php?aff=17562&pid=925)** |
| 5 æ ¸ |  6 G  |  100 G  | 10 TBæµé‡/æœˆ @1Gbps  | **$44.98/å¹´** | **[å®˜ç½‘é“¾æ¥](https://my.racknerd.com/aff.php?aff=17562&pid=926)** |
| 6 æ ¸ |  8 G  |  150 G  | 20 TBæµé‡/æœˆ @1Gbps  | **$62.49/å¹´** | **[å®˜ç½‘é“¾æ¥](https://my.racknerd.com/aff.php?aff=17562&pid=927)** |



IPåœ°å€çº¯å‡€åº¦æŸ¥è¯¢ï¼šhttps://www.ping0.cc/



## 2.æµé‡ç¿»å€æ•™å­¦

### 01-LETè®ºå›æ³¨å†Œè´¦å·

å®˜æ–¹åœ°å€ï¼šhttps://lowendtalk.com/
æ³¨å†Œç†ç”±what do you want to joinï¼Ÿï¼š

```bash
Hello, I would like to register for the forum and purchase a cost-effective VPS. Thank youï¼
```

![image-20251230152217151](img/image-20251230152217151.png) 

![image-20251230152257514](img/image-20251230152257514.png) 

å¦‚æœæ²¡æœ‰ä½¿ç”¨é­”æ³•ï¼Œæ³¨å†Œä¿¡æ¯å¡«å†™å®Œä¹‹åä¼šæŠ¥éªŒè¯é”™è¯¯ï¼šthe captcha was not completed correctly.please try again.

![image-20251230152438131](img/image-20251230152438131.png) 

æ³¨å†Œä¿¡æ¯æäº¤ä¹‹åï¼Œé‚®ç®±ä¼šæ”¶åˆ°ä¸€å°éªŒè¯é‚®ä»¶

![image-20251230152516309](img/image-20251230152516309.png) 

![image-20251230152539398](img/image-20251230152539398.png) 

ç¡®è®¤é‚®ç®±ä¹‹åï¼Œå¤§æ¦‚è¿‡äº†20åˆ†é’Ÿå·¦å³æ‰æ­£å¼è¢«æ¿€æ´»ã€‚

![image-20251230152603056](img/image-20251230152603056.png) 



### 02-è·å–RackNerdè®¢å•å·

ç™»å½•RackNerdåå°ï¼Œç‚¹å‡»ã€view email logã€‘å¯ä»¥çœ‹åˆ°ä¹‹å‰è´­ä¹°æœåŠ¡å™¨å‘é€çš„å‘ç¥¨é‚®ä»¶

https://my.racknerd.com/index.php?rp=/login

æ‰¾åˆ°å¯¹åº”çš„æœåŠ¡å™¨ï¼Œå¤åˆ¶invoice

![image-20251230152829106](img/image-20251230152829106.png) 



### 03-LETè®ºå›å›å¸–ç”³è¯·

RackNerdæµé‡ç¿»å€å¸–å­(ä»»æ„å¯ä»¥ï¼‰ï¼š

https://lowendtalk.com/discussion/211640/trending-now-racknerd-s-black-friday-new-deals-new-locations-new-hardware-100-s-of-giveaways#latest

å¦‚æœæ³¨å†Œè´¦å·è¿˜æ²¡æœ‰è¢«æ¿€æ´»ï¼Œä¼šçœ‹åˆ°ä»¥ä¸‹é¡µé¢ï¼Œæ— æ³•è¿›è¡Œå‘å¸–æˆ–å›å¤å¸–å­

![image-20251230153148013](img/image-20251230153148013.png) 

æ³¨å†Œè´¦å·æ¿€æ´»ä¹‹åï¼Œå†æ¬¡æ‰“å¼€ç”³è¯·å¸–å­ï¼Œæ‹‰åˆ°æœ€åº•éƒ¨å›å¤å¸–å­æ¨¡æ¿ï¼š

æŠŠ12345678ï¼Œæ¢æˆä½ çš„è®¢å•å·

```
Hello, I would like to double my bandwidth.
Invoice #12345678
Thanks!
```

![image-20251230153311772](img/image-20251230153311772.png) 

æ­£å¸¸å¤§æ¦‚3ä¸ªå·¥ä½œæ—¥å†…ï¼Œå¦‚æœå®˜æ–¹dustincå›å¤å¦‚ä¸‹ä¿¡æ¯ï¼Œè¯´æ˜æµé‡ç¿»å€æˆåŠŸã€‚

å®æµ‹11æœˆ4æ—¥æäº¤ï¼Œ11æœˆ17æ—¥å›å¤ç¿»å€æˆåŠŸï¼å¯èƒ½è¿™æ®µæ—¶é—´ä¿ƒé”€æ—ºå­£æ¯”è¾ƒå¿™ã€‚

ç™»å½•LETè®ºå›ï¼Œåœ¨æ¶ˆæ¯æé†’é‡Œé¢å¯ä»¥çœ‹åˆ°å›å¤ä¿¡æ¯

![image-20251230153424825](img/image-20251230153424825.png) 

ç‚¹å¼€ä¹‹åå°±ä¼šè·³è½¬åˆ°å›å¤çš„å…·ä½“å†…å®¹ï¼Œç±»ä¼¼è¿™æ ·çš„å°±ç®—ç¿»å€æˆåŠŸå•¦ï¼

![image-20251230153502751](img/image-20251230153502751.png) 

### 04-ç¡®è®¤æ˜¯å¦ç¿»å€ï¼Ÿ

ç™»å½•RackNerdåå°ï¼Œç‚¹å¼€ã€Servicesã€‘ï¼Œæ‰“å¼€ç¿»å€çš„æœåŠ¡å™¨

ç¿»å€å‰æµé‡

![image-20251230153541633](img/image-20251230153541633.png) 

ç¿»å€åæµé‡

![image-20251230153607758](img/image-20251230153607758.png) 





## 3.æ­å»ºvpnï¼ˆå¼ƒç”¨è„šæœ¬æ–¹å¼ï¼‰

SSHå·¥å…·è¿æ¥æœåŠ¡å™¨

- åç§°ï¼šä»»æ„è‡ªå®šä¹‰
- ä¸»æœºï¼šæœåŠ¡å™¨çš„ipåœ°å€
- ç«¯å£ï¼šåŸºæœ¬éƒ½æ˜¯22
- ç”¨æˆ·åï¼šroot
- å¯†ç ï¼šæœåŠ¡å™¨çš„rootå¯†ç 

### 3.1 ç³»ç»Ÿå‡çº§ç»„ä»¶å®‰è£…

```bash
apt update -y && apt install -y curl && apt install -y socat
```

### 3.2 Hysteria2 ä¸€é”®å®‰è£…è„šæœ¬ï¼ˆå¼€æºå®‰å…¨ï¼‰

```bash
wget -N --no-check-certificate https://raw.githubusercontent.com/flame1ce/hysteria2-install/main/hysteria2-install-main/hy2/hysteria.sh && bash hysteria.sh
```

**è¾“å…¥â€œ1â€ï¼šå®‰è£… Hysteria 2**

```bash
#############################################################
#                  Hysteria 2 ä¸€é”®å®‰è£…è„šæœ¬                  #
#############################################################

 1. å®‰è£… Hysteria 2
 2. å¸è½½ Hysteria 2
 ------------------------------------------------------------
 3. å…³é—­ã€å¼€å¯ã€é‡å¯ Hysteria 2
 4. ä¿®æ”¹ Hysteria 2 é…ç½®
 5. æ˜¾ç¤º Hysteria 2 é…ç½®æ–‡ä»¶
 ------------------------------------------------------------
 0. é€€å‡ºè„šæœ¬

è¯·è¾“å…¥é€‰é¡¹ [0-5]: 1
```

![image-20251230170315126](img/image-20251230170315126.png) 

![image-20251230170337585](img/image-20251230170337585.png) 

### 3.3 é…ç½®Hysteria 2åè®®

â¦ è¾“å…¥â€œ1â€ï¼šå¿…åº”è‡ªç­¾è¯ä¹¦ ï¼ˆé»˜è®¤ï¼‰
â¦ å›è½¦ï¼šè®¾ç½® Hysteria 2 ç«¯å£ä¸ºéšæœºç«¯å£
â¦ è¾“å…¥â€œ1â€ï¼šå•ç«¯å£ ï¼ˆé»˜è®¤ï¼‰
â¦ å›è½¦ï¼šè®¾ç½® Hysteria 2 å¯†ç ä¸ºéšæœºå¯†ç 
â¦ è®¾ç½®Hysteria 2 çš„ä¼ªè£…ç½‘ç«™åœ°å€ï¼šè¾“å…¥â€œwww.bing.comâ€

```bash
aws.com
amd.com
bing.com
go.microsoft.com
snap.licdn.com
devblogs.microsoft.com
cdn.bizibly.com
www.apple.com
ts1.tc.mm.bing.net
fpinit.itunes.apple.com
catalog.gamepass.com
gray-config-prod.api.arc-cdn.net
apps.mzstatic.com
tag.demandbase.com
r.bing.com
tag-logger.demandbase.com
cdn-dynmedia-1.microsoft.com
services.digitaleast.mobi
gray.video-player.arcpublishing.com
azure.microsoft.com
beacon.gtv-pub.com
```

æ—¥å¿—

```bash
Hysteria 2 å®‰è£…æˆåŠŸï¼
Hysteria 2 åè®®è¯ä¹¦ç”³è¯·æ–¹å¼å¦‚ä¸‹ï¼š

 1. å¿…åº”è‡ªç­¾è¯ä¹¦ ï¼ˆé»˜è®¤ï¼‰
 2. Acme è„šæœ¬è‡ªåŠ¨ç”³è¯·
 3. è‡ªå®šä¹‰è¯ä¹¦è·¯å¾„

è¯·è¾“å…¥é€‰é¡¹ [1-3]: 1
å°†ä½¿ç”¨å¿…åº”è‡ªç­¾è¯ä¹¦ä½œä¸º Hysteria 2 çš„èŠ‚ç‚¹è¯ä¹¦
è®¾ç½® Hysteria 2 ç«¯å£ [1-65535]ï¼ˆå›è½¦åˆ™éšæœºåˆ†é…ç«¯å£ï¼‰ï¼š
å°†åœ¨ Hysteria 2 èŠ‚ç‚¹ä½¿ç”¨çš„ç«¯å£æ˜¯ï¼š11075
Hysteria 2 ç«¯å£ä½¿ç”¨æ¨¡å¼å¦‚ä¸‹ï¼š

 1. å•ç«¯å£ ï¼ˆé»˜è®¤ï¼‰
 2. ç«¯å£è·³è·ƒ

è¯·è¾“å…¥é€‰é¡¹ [1-2]: 1
å°†ç»§ç»­ä½¿ç”¨å•ç«¯å£æ¨¡å¼
è®¾ç½® Hysteria 2 å¯†ç ï¼ˆå›è½¦è·³è¿‡ä¸ºéšæœºå­—ç¬¦ï¼‰ï¼š
ä½¿ç”¨åœ¨ Hysteria 2 èŠ‚ç‚¹çš„å¯†ç ä¸ºï¼šdb53d5f1
è¯·è¾“å…¥ Hysteria 2 çš„ä¼ªè£…ç½‘ç«™åœ°å€ ï¼ˆå»é™¤https://ï¼‰ [é»˜è®¤é¦–å°”å¤§å­¦]ï¼šwww.bing.com
ä½¿ç”¨åœ¨ Hysteria 2 èŠ‚ç‚¹çš„ä¼ªè£…ç½‘ç«™ä¸ºï¼šwww.bing.com
```

![image-20251230170601908](img/image-20251230170601908.png) 

### 3.4 ä¿å­˜Hysteria 2åè®®èŠ‚ç‚¹é“¾æ¥

![image-20251230170704332](img/image-20251230170704332.png) 



### 3.5 å®¢æˆ·ç«¯é…ç½®

- Windowsï¼ˆv2rayNï¼‰ï¼šhttps://github.com/2dust/v2rayN/releases ï¼ˆä¸‹è½½v2rayN-windows-64-SelfContained.zipç‰ˆï¼‰
- Androidï¼ˆv2rayNGï¼‰ï¼šhttps://github.com/2dust/v2rayNG/releases
- Macï¼ˆv2rayNï¼‰ï¼šhttps://github.com/2dust/v2rayN/releases
- IOSï¼ˆshadowrocketï¼‰ï¼šhttps://apps.apple.com/app/shadowrocket/id932747118

æ‰«æäºŒç»´ç ã€æˆ–å¤åˆ¶ç²˜è´´é“¾æ¥å¯¼å…¥å®¢æˆ·ç«¯



### 3.6 å¦‚ä½•æŸ¥çœ‹æ›´æ”¹é…ç½®

è¿˜æ˜¯è¾“å…¥å®‰è£…ä»£ç ï¼Œå¯ä»¥ã€ä¿®æ”¹é…ç½®ã€‘ã€ã€æ˜¾ç¤ºé…ç½®æ–‡ä»¶ã€‘ç­‰

```bash
wget -N --no-check-certificate https://raw.githubusercontent.com/flame1ce/hysteria2-install/main/hysteria2-install-main/hy2/hysteria.sh && bash hysteria.sh
```

![image-20251230170842114](img/image-20251230170842114.png) 

éƒ‘é‡å£°æ˜ï¼šè¯·åˆç†ä½¿ç”¨ç§‘å­¦ä¸Šç½‘ï¼Œç”¨äºå­¦ä¹ ã€ç§‘ç ”ã€å¤–è´¸ç­‰ï¼Œä¸¥æ ¼éµå®ˆå½“åœ°ç›¸å…³è§„å®šï¼



## 4.æ­å»ºvpnï¼ˆæ¨ès-uié¢æ¿æ–¹å¼ï¼‰

### 4.1 å¸è½½æ—§ç‰ˆvpn

è¿˜æ˜¯è¾“å…¥å®‰è£…ä»£ç ï¼Œå¯ä»¥å¸è½½ç­‰

```bash
wget -N --no-check-certificate https://raw.githubusercontent.com/flame1ce/hysteria2-install/main/hysteria2-install-main/hy2/hysteria.sh && bash hysteria.sh
```

### 4.2 ç»‘å®šåŸŸåé˜²å¢™

ç™»å½•ï¼šhttps://dash.cloudflare.com/

åŸŸåè·å–ï¼š

å…è´¹ç™½å«–æ°¸ä¹…åŸŸåï¼šhttps://www.youtube.com/watch?v=aZGlGjn4OHM

![image-20251230222608192](img/image-20251230222608192.png) 

æ·»åŠ DNSè§£æï¼Œåˆ°ä½ çš„vpsèŠ‚ç‚¹

![image-20251230222915578](img/image-20251230222915578.png) 



### 4.3 ä¸€é”®å®‰è£…ä¸å¸è½½

[å®˜æ–¹æ–‡æ¡£](https://v2.hysteria.network/zh/docs/getting-started/Server-Installation-Script/)

å®‰è£…ï¼›https://github.com/xiaochaib/chaiwiki/wiki/

```bash
#å®‰è£…git
yum install git bash-completion vim -y
yum update -y && yum install -y curl socat wget

#å…³é—­é˜²ç«å¢™
[root@racknerd-0566bb5 ~/acme]# systemctl status nftables.service

[root@racknerd-0566bb5 ~/acme]# systemctl status iptables.service

[root@racknerd-0566bb5 ~/acme]# systemctl status firewalld.service
[root@racknerd-0566bb5 ~/acme]# systemctl disable firewalld.service --now
[root@racknerd-0566bb5 ~/acme]# systemctl status firewalld.service

#å®‰è£…S-UI
#åœ°å€ï¼šhttps://github.com/alireza0/s-ui
bash <(curl -Ls https://raw.githubusercontent.com/alireza0/s-ui/master/install.sh)

===================================
###############################################
username:fNrrlphy
password:qxAGy240
###############################################
if you forgot your login info,you can type s-ui for configuration menu
reset admin credentials success
First admin credentials:
        Username:        fNrrlphy
        Password:        qxAGy240
Created symlink /etc/systemd/system/multi-user.target.wants/s-ui.service â†’ /etc/systemd/system/s-ui.service.
s-ui vv1.3.7 installation finished, it is up and running now...
You may access the Panel with following URL(s):
Local address:
http://your_ip:2095/app/

Global address:
http://your_ip:2095/app/


The OS release is: almalinux
S-UI Control Menu Usage
------------------------------------------
SUBCOMMANDS:
s-ui              - Admin Management Script
s-ui start        - Start s-ui
s-ui stop         - Stop s-ui
s-ui restart      - Restart s-ui
s-ui status       - Current Status of s-ui
s-ui enable       - Enable Autostart on OS Startup
s-ui disable      - Disable Autostart on OS Startup
s-ui log          - Check s-ui Logs
s-ui update       - Update
s-ui install      - Install
s-ui uninstall    - Uninstall
s-ui help         - Control Menu Usage
------------------------------------------
```

æ˜¾ç¤ºä¸‰è¡Œçº¢å­—, ä»£è¡¨å®‰è£…æˆåŠŸ

è®¾ç½®å¼€æœºè‡ªå¯

```bash
[root@racknerd-0566bb5 ~]# systemctl daemon-reload
[root@racknerd-0566bb5 ~]# systemctl enable s-ui
[root@racknerd-0566bb5 ~]# systemctl restart s-ui
[root@racknerd-0566bb5 ~]# systemctl status s-ui.service
â— h-ui.service - h-ui Service
     Loaded: loaded (/etc/systemd/system/h-ui.service; enabled; preset: disabled)
     Active: active (running) since Tue 2025-12-30 23:08:46 CST; 17s ago
   Main PID: 58208 (h-ui)
      Tasks: 4 (limit: 5928)
     Memory: 40.0M
        CPU: 380ms
     CGroup: /system.slice/h-ui.service
             â””â”€58208 /usr/local/h-ui/h-ui

Dec 30 23:08:47 racknerd-0566bb5 h-ui[58208]: [GIN-debug] POST   /hui/hysteria2/hysteria2Kick --> h-ui/controller.Hysteria2Kick (8 handlers)
Dec 30 23:08:47 racknerd-0566bb5 h-ui[58208]: [GIN-debug] POST   /hui/hysteria2/hysteria2ChangeVersion --> h-ui/controller.Hysteria2ChangeVersion (8 handlers)
```

æŒ‘é€‰SNIä¼ªè£…åŸŸåï¼ˆä»»é€‰ä¸€ä¸ªï¼‰

```
å¦‚å‘ç°èŠ‚ç‚¹ä¸èƒ½ä½¿ç”¨ï¼Œæˆ–å»¶è¿Ÿæ˜¾ç¤º-1ï¼Œä»¥ä¸‹åŸŸåè¯·éšæœºæŒ‘é€‰ç”¨äºSNIï¼Œç›´åˆ°æ­£å¸¸ä½¿ç”¨å³å¯ï¼Œæˆ–è€…ç›´æ¥ç…§æŠ„è§†é¢‘ä¸­ä¸€æ¨¡ä¸€æ ·çš„åŸŸåå¡«å†™ï¼Œç¡®ä¿å¯ç”¨
aws.com
bing.com
snap.licdn.com
devblogs.microsoft.com
cdn.bizibly.com
www.apple.com
ts1.tc.mm.bing.net
fpinit.itunes.apple.com
go.microsoft.com
catalog.gamepass.com
gray-config-prod.api.arc-cdn.net
apps.mzstatic.com
tag.demandbase.com
r.bing.com
tag-logger.demandbase.com
cdn-dynmedia-1.microsoft.com
services.digitaleast.mobi
gray.video-player.arcpublishing.com
azure.microsoft.com
beacon.gtv-pub.com
amd.com
```

**BBRåŠ é€Ÿ**

è¾“å…¥s-uiè¿è¡Œï¼Œè¾“å…¥18è¿è¡Œï¼Œè¾“å…¥1è¿è¡Œï¼Œå¼€å¯BBRåŠ é€Ÿï¼Œæ˜¾è‘—æå‡é€Ÿåº¦

```
s-ui state: Running
Start s-ui automatically: Yes

Please enter your selection [0-20]: 18
        1. Enable BBR
        2. Disable BBR
        0. Back to Main Menu
Choose an option: 1
Last metadata expiration check: 1:19:50 ago on Tue 30 Dec 2025 11:24:05 PM CST.
Error:
 Problem: cannot install both initscripts-10.11.8-4.el9.x86_64 from baseos and initscripts-10.11.4-1.el9.x86_64 from @System
  - package network-scripts-10.11.4-1.el9.x86_64 from @System requires initscripts(x86-64) = 10.11.4-1.el9, but none of the providers can be installed
  - cannot install the best update candidate for package initscripts-10.11.4-1.el9.x86_64
  - problem with installed package network-scripts-10.11.4-1.el9.x86_64
(try to add '--allowerasing' to command line to replace conflicting packages or '--skip-broken' to skip uninstallable packages or '--nobest' to use not only best candidate packages)
net.core.default_qdisc=fq
net.ipv4.tcp_congestion_control=bbr
net.core.default_qdisc = fq
net.ipv4.tcp_congestion_control = bbr
BBR has been enabled successfully.
```

å¸è½½

```bash
sudo -i

systemctl disable s-ui  --now

rm -f /etc/systemd/system/sing-box.service
systemctl daemon-reload

rm -fr /usr/local/s-ui
rm /usr/bin/s-ui
```

### 4.4 æœåŠ¡ç«¯é…ç½®

http://your_ip:2095/app/

https://www.youtube.com/watch?v=6l01iAgKglY&t=10s

ä¿®æ”¹ç®¡ç†å‘˜è´¦å·å¯†ç 

è´¦å·ï¼šä½ æ‡‚å¾—.......

å¯†ç ï¼šä½ æ‡‚å¾—.........

![image-20251231145034955](img/image-20251231145034955.png) 

æ·»åŠ tlsè¯ä¹¦è·¯å¾„

![image-20251231150229052](img/image-20251231150229052.png) 

é…ç½®å…¥ç«™

![image-20251231151138249](img/image-20251231151138249.png) 

 é…ç½®ç”¨æˆ·

![image-20251231160913619](img/image-20251231160913619.png) 



### 4.5 å¼€æ”¾ç«¯å£

```bash
#å¦‚æœä¸Šæ–¹å¤±è´¥ï¼Œå¼€æ”¾ç«¯å£è¯•è¯•
âœ sudo nft add rule inet filter INPUT udp dport 443 accept
âœ sudo nft add rule inet filter INPUT tcp dport 2095 accept
âœ sudo nft list ruleset
table inet hui_porthopping {
        chain prerouting {
                type nat hook prerouting priority dstnat; policy accept;
        }
}
table inet filter {
        chain INPUT {
                type filter hook input priority filter; policy drop;
                tcp dport 22 accept
                iifname "lo" accept
                icmp type echo-request accept
                ct state established,related accept
                udp dport 443 accept
                tcp dport 2095 accept
        }

        chain FORWARD {
                type filter hook forward priority filter; policy accept;
        }

        chain OUTPUT {
                type filter hook output priority filter; policy accept;
                oifname "lo" accept
                ct state established,related accept
        }
}

#ä¿å­˜é…ç½®
âœ sudo nft list ruleset > /etc/nftables/full.nft
âœ vim /etc/sysconfig/nftables.conf
âœ cat /etc/sysconfig/nftables.conf
include "/etc/nftables/full.nft"

#é‡å¯é˜²ç«å¢™
âœ systemctl restart nftables.service

#æŸ¥çœ‹çŠ¶æ€
âœ systemctl status nftables.service

#æˆåŠŸå¯åŠ¨
âœ ss -tunpl
Netid       State        Recv-Q       Send-Q              Local Address:Port               Peer Address:Port       Process
udp         UNCONN       0            0                      127.0.0.54:53                      0.0.0.0:*           users:(("systemd-resolve",pid=433,fd=16))
udp         UNCONN       0            0                   127.0.0.53%lo:53                      0.0.0.0:*           users:(("systemd-resolve",pid=433,fd=14))
udp         UNCONN       0            0                               *:443                           *:*           users:(("hysteria",pid=4460,fd=3))
tcp         LISTEN       0            4096                127.0.0.53%lo:53                      0.0.0.0:*           users:(("systemd-resolve",pid=433,fd=15))
tcp         LISTEN       0            4096                   127.0.0.54:53                      0.0.0.0:*           users:(("systemd-resolve",pid=433,fd=17))
tcp         LISTEN       0            4096                            *:22                            *:*           users:(("sshd",pid=755,fd=3),("systemd",pid=1,fd=199))

```



### 4.6 å®¢æˆ·ç«¯ é…ç½®

```bash
#ç”µè„‘é…ç½®
server: your.domain.net:443 #ä½ çš„vpsçš„å·²ç»è§£æçš„åŸŸå
auth: Se7RAuFZ8Lzg #å¯†ç ï¼Œéœ€è¦ä¸æœåŠ¡ç«¯ä¸€æ ·

bandwidth:
  up: 20 mbps #ä½ å®¶å®½å¸¦çš„ä¸Šä¼ é€Ÿåº¦
  down: 100 mbps #ä¸‹è½½é€Ÿåº¦
  
tls:
  sni: your.domain.net #ä½ çš„åŸŸåï¼Œä¸ºç©ºå°†å’Œserverä¸€è‡´ï¼Œé€šå¸¸ç•™ç©º
  insecure: false #ä½¿ç”¨è‡ªç­¾æ—¶éœ€è¦æ”¹æˆtrue

socks5:
  listen: 127.0.0.1:1080

http:
  listen: 127.0.0.1:8080
  
#æ‰‹æœºé…ç½®
================================================
æœåŠ¡å™¨åœ°å€: 192.3.85.247 --ä½ çš„vpsåœ°å€
æœåŠ¡å™¨ç«¯å£: 443  --é»˜è®¤
å¯†ç ï¼šSe7RAuFZ8Lzg  --å¯†ç ï¼Œéœ€è¦ä¸æœåŠ¡ç«¯ä¸€æ ·
å®½å¸¦é€Ÿç‡è®¾ç½®ï¼š500M  --ä½ å®¶å®½å¸¦çš„ä¸Šä¼ ä¸‹è½½é€Ÿåº¦
ä¼ è¾“å±‚å®‰å…¨tlsï¼š
SNIï¼šyour.domain.net  --ä½ çš„åŸŸåï¼Œä¸ºç©ºå°†å’Œserverä¸€è‡´ï¼Œé€šå¸¸ç•™ç©º
è·³è¿‡è¯ä¹¦ï¼šfalse  --ä»…è‡ªç­¾è¯ä¹¦æ—¶æ”¹ä¸ºtrue
```

**å®‰å“/Androidï¼š**[NekoBoxä¸‹è½½](https://github.com/MatsuriDayo/NekoBoxForAndroid/releases/tag/1.4.0)

æ‰«ç æˆ–å¤åˆ¶é“¾æ¥ï¼Œç²˜è´´å¯¼å…¥

å¼€å¯ä»£ç†

**cloudflare --åŸŸå--dnsç³»ç»Ÿ--è§£æ--æŠŠä»£ç†å¼€å¯--å°äº‘æœµäº®èµ·æ¥**



## 5.ç»™é¢æ¿å’ŒèŠ‚ç‚¹éš§é“è®¿é—®

**ä½œç”¨ï¼šé˜²æ­¢è¢«æ‰«æï¼Œå°IP**

è§†é¢‘æ•™ç¨‹ï¼šhttps://www.youtube.com/watch?v=VtVCupq-Gsw

æ•™ç¨‹ï¼šhttps://amclubss.com/argo

ä½ çš„ VPS IP è¢«å°ï¼Ÿåˆ«æ…Œï¼æ•™ä½ ç”¨ Cloudflare Argo Tunnel ä¸€é”®æ¢å¤è¢«å°çš„ VPS èŠ‚ç‚¹ã€‚

**ä»…æ”¯æŒ VLESS / Trojan / Vmess / WebSocket / gRPC / TCP å¤šåè®®**



### 5.1 åˆ›å»ºs-uièŠ‚ç‚¹

åˆ›å»ºæ— tlsçš„èŠ‚ç‚¹ï¼Œå¦‚ VLESS / Trojan / Vmess ç­‰ç­‰åè®®

![image-20260101161658233](img/image-20260101161658233.png) 

é…ç½®ç”¨æˆ·ï¼ŒæŠŠèŠ‚ç‚¹åŠ å…¥

![image-20260101161832770](img/image-20260101161832770.png) 



### 5.2 ç«¯å£çŸ¥è¯†

**s-uié…ç½®Cloudflareçš„CDNå’ŒTLSè¯ä¹¦**
**é¢æ¿åŠ CDNã€èŠ‚ç‚¹åŠ CDNé…ç½®Cloudflareçš„15å¹´è¯ä¹¦ä½¿ç”¨ï¼Œæˆ–éš§é“ä»£ç†éƒ½éœ€è¦éµå®ˆï¼Œä½¿ç”¨ä»¥ä¸‹æ ‡å‡†ç«¯å£**

**cloudflareæ ‡å‡† ç«¯å£ çŸ¥è¯†**

> - 80ç³»ç«¯å£(HTTP)ï¼š80ï¼Œ8080ï¼Œ8880ï¼Œ2052ï¼Œ2082ï¼Œ2086ï¼Œ2095
> - 443ç³»ç«¯å£(HTTPS)ï¼š443ï¼Œ2053ï¼Œ2083ï¼Œ2087ï¼Œ2096ï¼Œ8443

ä¿®æ”¹s-uié¢æ¿é…ç½®ï¼Œæ”¯æŒæ­£å¸¸ç«¯å£

```bash
[root@racknerd-0566bb5 ~]# s-ui
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  8. Reset Panel Settings
  9. Set Panel settings
  10. View Panel Settings
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
Please enter your selection [0-20]: 9
Enter the panel port (leave blank for existing/default value):
2095  --ä¿®æ”¹é¢æ¿è®¿é—®ç«¯å£
Enter the panel path (leave blank for existing/default value):
app   --ä¿®æ”¹æ¨¡æ¿è·¯å¾„
Enter the subscription port (leave blank for existing/default value):
2096  --ä¿®æ”¹è®¢é˜…åœ°å€ç«¯å£
Enter the subscription path (leave blank for existing/default value):
sub   --ä¿®æ”¹è®¢é˜…è·¯å¾„
Initializing, please wait...
set port success
set path success
set sub port success
set sub path success
Current panel settings:
        Panel port:      2095
        Panel path:      /app/

Current subscription settings:
        Sub port:        2096
        Sub path:        /sub/
        
#é‡å¯é¢æ¿ç”Ÿæ•ˆ
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  11. S-UI Start
  12. S-UI Stop
  13. S-UI Restart
  14. S-UI Check State
  15. S-UI Check Logs
  16. S-UI Enable Autostart
  17. S-UI Disable Autostart
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
  18. Enable or Disable BBR
  19. SSL Certificate Management
  20. Cloudflare SSL Certificate
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

s-ui state: Running
Start s-ui automatically: Yes

Please enter your selection [0-20]: 13
```



### 5.3 å…³é—­ç«¯å£

```bash
#å…³é—­æ‰€æœ‰æš´éœ²ç«¯å£
[root@racknerd-0566bb5 ~]# vim /etc/nftables/full.nft
[root@racknerd-0566bb5 ~]# cat /etc/nftables/full.nft
table inet filter {
        chain INPUT {
                type filter hook input priority filter; policy drop;
                tcp dport 22 accept
                iifname "lo" accept
                icmp type echo-request accept
                ct state established,related accept
                udp dport 443 accept
        }

        chain FORWARD {
                type filter hook forward priority filter; policy accept;
        }

        chain OUTPUT {
                type filter hook output priority filter; policy accept;
                oifname "lo" accept
                ct state established,related accept
        }
}
table inet hui_porthopping {
        chain prerouting {
                type nat hook prerouting priority dstnat; policy accept;
        }
}

#ç”Ÿæ•ˆé…ç½®
[root@racknerd-0566bb5 ~]# systemctl restart nftables.service
[root@racknerd-0566bb5 ~]# nft list ruleset
table inet filter {
        chain INPUT {
                type filter hook input priority filter; policy drop;
                tcp dport 22 accept
                iifname "lo" accept
                icmp type echo-request accept
                ct state established,related accept
                udp dport 443 accept
        }

        chain FORWARD {
                type filter hook forward priority filter; policy accept;
        }

        chain OUTPUT {
                type filter hook output priority filter; policy accept;
                oifname "lo" accept
                ct state established,related accept
        }
}
table inet hui_porthopping {
        chain prerouting {
                type nat hook prerouting priority dstnat; policy accept;
        }
}

#æŸ¥çœ‹ç«¯å£
[root@racknerd-0566bb5 ~]# ss -tunpl
Netid        State         Recv-Q        Send-Q               Local Address:Port                Peer Address:Port        Process
udp          UNCONN        0             0                        127.0.0.1:323                      0.0.0.0:*            users:(("chronyd",pid=43595,fd=5))
udp          UNCONN        0             0                            [::1]:323                         [::]:*            users:(("chronyd",pid=43595,fd=6))
udp          UNCONN        0             0                                *:443                            *:*            users:(("sui",pid=75637,fd=12))
tcp          LISTEN        0             128                        0.0.0.0:22                       0.0.0.0:*            users:(("sshd",pid=28841,fd=3))
tcp          LISTEN        0             4096                             *:2095                           *:*            users:(("sui",pid=75637,fd=7))
tcp          LISTEN        0             4096                             *:2096                           *:*            users:(("sui",pid=75637,fd=8))
tcp          LISTEN        0             128                           [::]:22                          [::]:*            users:(("sshd",pid=28841,fd=4))
```

æ­¤æ—¶è®¿é—®ï¼šhttp://your_global_ip:2095/app/ æ˜¯ä¸èƒ½è®¿é—®é¢æ¿çš„

### 5.4 sshéš§é“è®¿é—®é¢æ¿

Windowsç»ˆç«¯èµ°sshç«¯å£è½¬å‘

**SSH ç«¯å£è½¬å‘ï¼ˆSSH Port Forwardingï¼‰**ï¼Œé€šå¸¸ä¹Ÿè¢«ç§°ä¸º SSH éš§é“ï¼Œæ˜¯ä¸€ç§åˆ©ç”¨ SSH åè®®å°†ç½‘ç»œæ•°æ®åŒ…å°è£…åœ¨åŠ å¯†é€šé“ä¸­è¿›è¡Œä¼ è¾“çš„æŠ€æœ¯ã€‚å®ƒä¸ä»…èƒ½ä¿éšœæ•°æ®å®‰å…¨ï¼Œè¿˜èƒ½å¸®åŠ©æˆ‘ä»¬è®¿é—®åŸæœ¬å—é™çš„ç½‘ç»œèµ„æºã€‚
æ ¹æ®æ•°æ®ä¼ è¾“æ–¹å‘çš„ä¸åŒï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§æ¨¡å¼ï¼š

1. **æœ¬åœ°ç«¯å£è½¬å‘ (Local Port Forwarding)**
    åœºæ™¯ï¼š ä½ åœ¨å®¶é‡Œï¼Œæƒ³è®¿é—®å…¬å¸å†…ç½‘çš„ä¸€å°æ•°æ®åº“æœåŠ¡å™¨ï¼Œä½†æ•°æ®åº“ç«¯å£ä¸å¯¹å¤–å¼€æ”¾ï¼Œåªæœ‰ SSH æœåŠ¡å™¨å¯ä»¥ä»å¤–éƒ¨è®¿é—®ã€‚

  >  * åŸç†ï¼š åœ¨æœ¬åœ°æœºå™¨ä¸Šç›‘å¬ä¸€ä¸ªç«¯å£ï¼Œå°†å‘é€åˆ°è¯¥ç«¯å£çš„æ•°æ®é€šè¿‡ SSH éš§é“è½¬å‘åˆ°è¿œç¨‹ä¸»æœºçš„æŸä¸ªç«¯å£ã€‚
  >  * å‘½ä»¤æ ¼å¼ï¼š
  >    ssh -L [æœ¬åœ°åœ°å€:]æœ¬åœ°ç«¯å£:ç›®æ ‡ä¸»æœº:ç›®æ ‡ç«¯å£ SSHç”¨æˆ·@SSHæœåŠ¡å™¨
  >  * ç¤ºä¾‹ï¼š
  >    ssh -L 8080:192.168.1.50:3306 user@ssh-server.com
  >    è¿™è¡¨ç¤ºï¼šå½“ä½ è®¿é—®æœ¬åœ°çš„ localhost:8080 æ—¶ï¼Œæµé‡ä¼šé€šè¿‡ ssh-server.com è½¬å‘åˆ°å†…ç½‘ 192.168.1.50 çš„ 3306 ç«¯å£ã€‚
2. **è¿œç¨‹ç«¯å£è½¬å‘ (Remote Port Forwarding)**
    åœºæ™¯ï¼š ä½ åœ¨å…¬å¸å†…éƒ¨å¼€å‘äº†ä¸€ä¸ªç½‘é¡µï¼Œæƒ³è®©å®¶é‡Œçš„æœ‹å‹çœ‹çœ‹ï¼Œä½†å…¬å¸æ²¡æœ‰å…¬ç½‘ IPã€‚

  >  * åŸç†ï¼š åœ¨è¿œç¨‹ SSH æœåŠ¡å™¨ä¸Šç›‘å¬ä¸€ä¸ªç«¯å£ï¼Œå°†å‘é€åˆ°è¯¥ç«¯å£çš„æ•°æ®é€šè¿‡ SSH éš§é“è½¬å‘å›æœ¬åœ°æœºå™¨çš„æŸä¸ªç«¯å£ã€‚
  >  * å‘½ä»¤æ ¼å¼ï¼š
  >    ssh -R [è¿œç¨‹åœ°å€:]è¿œç¨‹ç«¯å£:ç›®æ ‡ä¸»æœº:ç›®æ ‡ç«¯å£ SSHç”¨æˆ·@SSHæœåŠ¡å™¨
  >  * ç¤ºä¾‹ï¼š
  >    ssh -R 9000:localhost:80 user@public-server.com
  >    è¿™è¡¨ç¤ºï¼šä»»ä½•äººè®¿é—® public-server.com:9000ï¼Œæµé‡éƒ½ä¼šè¢«è½¬å‘åˆ°ä½ æœ¬åœ°æœºå™¨çš„ 80 ç«¯å£ã€‚
3. **åŠ¨æ€ç«¯å£è½¬å‘ (Dynamic Port Forwarding)**
    åœºæ™¯ï¼š ä½ éœ€è¦ä¸€ä¸ªé€šç”¨çš„ä»£ç†æœåŠ¡å™¨ï¼Œæƒ³é€šè¿‡ SSH æœåŠ¡å™¨è®¿é—®å¤šä¸ªä¸åŒçš„å¤–éƒ¨ç½‘ç«™ï¼Œè€Œä¸å¿…ä¸ºæ¯ä¸ªç›®æ ‡éƒ½è®¾ç½®è½¬å‘ã€‚

  >  * åŸç†ï¼š SSH ä¼šå¯åŠ¨ä¸€ä¸ª SOCKS ä»£ç†æœåŠ¡å™¨ã€‚æµé‡ä¸å†å›ºå®šè½¬å‘åˆ°æŸä¸ªç‰¹å®šç›®æ ‡ï¼Œè€Œæ˜¯æ ¹æ®åº”ç”¨å±‚çš„éœ€æ±‚åŠ¨æ€å†³å®šå»å‘ã€‚
  >  * å‘½ä»¤æ ¼å¼ï¼š
  >    ssh -D æœ¬åœ°ç«¯å£ SSHç”¨æˆ·@SSHæœåŠ¡å™¨
  >  * ç¤ºä¾‹ï¼š
  >    ssh -D 1080 user@ssh-server.com
  >    è¿™è¡¨ç¤ºï¼šåœ¨æœ¬åœ°å¼€å¯äº† SOCKS5 ä»£ç†ã€‚ä½ åœ¨æµè§ˆå™¨è®¾ç½®ä»£ç†ä¸º localhost:1080 åï¼Œæ‰€æœ‰ä¸Šç½‘æµé‡éƒ½ä¼šç»è¿‡ SSH æœåŠ¡å™¨ä»£ä¸ºå‘å‡ºã€‚

å¸¸ç”¨å‚æ•°è¯´æ˜

| å‚æ•°         | è¯´æ˜                                             |
| ------------ | ------------------------------------------------ |
| -N           | ä¸æ‰§è¡Œè¿œç¨‹å‘½ä»¤ï¼ˆä»…ç”¨äºè½¬å‘ç«¯å£ï¼Œä¸è¿›å…¥ Shellï¼‰ã€‚ |
| -f           | åå°è¿è¡Œ SSH ä¼šè¯ã€‚                              |
| -L / -R / -D | åˆ†åˆ«å¯¹åº”æœ¬åœ°ã€è¿œç¨‹ã€åŠ¨æ€è½¬å‘ã€‚                   |
| -C           | å‹ç¼©æ•°æ®ï¼Œæé«˜ä¼ è¾“æ•ˆç‡ã€‚                         |

ğŸ’¡ æç¤º
å¦‚æœä½ æ˜¯åœ¨ Linux æˆ– macOS ä¸Šæ“ä½œï¼Œç›´æ¥åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤å³å¯ï¼›

å¦‚æœæ˜¯ Windowsï¼Œæ¨èä½¿ç”¨ PowerShell æˆ– PuTTYï¼ˆPuTTY åœ¨ Connection -> SSH -> Tunnels ä¸­è®¾ç½®ï¼‰ã€‚

ä½ æƒ³é’ˆå¯¹æŸä¸ªå…·ä½“çš„åº”ç”¨åœºæ™¯ï¼ˆå¦‚æ•°æ®åº“è¿æ¥æˆ–ç»•è¿‡é˜²ç«å¢™ï¼‰è·å–æ›´è¯¦ç»†çš„é…ç½®æ­¥éª¤å—ï¼Ÿ

```bash
#å¼€å¯sshéš§é“ï¼Œæ›¿æ¢your-vps-ipï¼Œä¸ºä½ çš„vpsæœåŠ¡å™¨IPåœ°å€
PS C:\Users\Fizz\Desktop> ssh -N -L 8080:localhost:2095 root@your-vps-ip
```

è®¿é—® ï¼šhttp://127.0.0.1:8080/app/ å³å¯å¼€å¯s-uié¢æ¿



**ğŸŒ€é‡è¦è¯´æ˜ï¼šç›®æ ‡åœ°å€**

åœ¨ SSH æœ¬åœ°ç«¯å£è½¬å‘å‘½ä»¤ `-L 127.0.0.1:8080:localhost:2095` ä¸­ï¼Œ**â€œç›®æ ‡åœ°å€â€**ï¼ˆå³ä¸­é—´çš„ `localhost:2095` éƒ¨åˆ†ï¼‰æ˜¯æœ€å®¹æ˜“äº§ç”Ÿè¯¯è§£çš„åœ°æ–¹ã€‚

ç†è§£å®ƒçš„æ ¸å¿ƒç§˜è¯€æ˜¯ï¼š**è¿™ä¸ªåœ°å€ä¸æ˜¯ç”±ä½ çš„ç”µè„‘è§†è§’è§£æçš„ï¼Œè€Œæ˜¯ç”±è¿œç¨‹æœåŠ¡å™¨è§†è§’è§£æçš„ã€‚**

------

**1. è§†è§’è½¬æ¢ï¼šè°åœ¨çœ‹è¿™ä¸ªåœ°å€ï¼Ÿ**

å½“ä½ å»ºç«‹ SSH è¿æ¥åï¼Œä½ çš„ç”µè„‘å’Œè¿œç¨‹æœåŠ¡å™¨ä¹‹é—´å·²ç»æ‹‰èµ·äº†ä¸€æ ¹åŠ å¯†çš„â€œç®¡é“â€ã€‚

- **èµ·ç‚¹**ï¼šä½ æœ¬åœ°ç”µè„‘çš„ SSH å®¢æˆ·ç«¯ã€‚
- **ç»ˆç‚¹**ï¼šè¿œç¨‹æœåŠ¡å™¨ï¼ˆ1.2.3.4ï¼‰ä¸Šçš„ SSH æœåŠ¡ç«¯ã€‚

å½“ä½ è®¿é—®æœ¬åœ° `8080` ç«¯å£æ—¶ï¼Œæµé‡é¡ºç€ç®¡é“ä¼ åˆ°äº†è¿œç¨‹æœåŠ¡å™¨ã€‚æ­¤æ—¶ï¼Œè¿œç¨‹æœåŠ¡å™¨ä¼šç«™å‡ºæ¥é—®ï¼šâ€œæ—¢ç„¶æˆ‘æ”¶åˆ°æ•°æ®äº†ï¼Œä½ è¦æˆ‘æŠŠå®ƒè½¬äº¤ç»™è°ï¼Ÿâ€

**â€œç›®æ ‡åœ°å€â€å°±æ˜¯ä½ ç»™è¿œç¨‹æœåŠ¡å™¨ä¸‹çš„æŒ‡ä»¤ã€‚**

------

**2. â€œç›®æ ‡åœ°å€â€å¸¸è§çš„ä¸‰ç§å†™æ³•**

æ ¹æ®ä½ å¡«å†™çš„ä¸åŒå†…å®¹ï¼Œæµé‡çš„å»å‘å®Œå…¨ä¸åŒï¼š

**A. å†™ `localhost` æˆ– `127.0.0.1`**

> - **å«ä¹‰**ï¼šæŒ‡è¿œç¨‹æœåŠ¡å™¨**å®ƒè‡ªå·±**ã€‚
> - **ä½ çš„ä¾‹å­**ï¼š`localhost:2095`ã€‚
> - **æ•ˆæœ**ï¼šè¿œç¨‹æœåŠ¡å™¨æŠŠæµé‡è½¬äº¤ç»™å®ƒè‡ªå·±å†…éƒ¨è¿è¡Œçš„ 2095 ç«¯å£æœåŠ¡ã€‚
> - **é€‚ç”¨åœºæ™¯**ï¼šè®¿é—®é‚£äº›ä¸ºäº†å®‰å…¨ã€åªå…è®¸æœåŠ¡å™¨æœ¬æœºè®¿é—®çš„æœåŠ¡ï¼ˆå¦‚æ•°æ®åº“ã€ç®¡ç†é¢æ¿ï¼‰ã€‚

**B. å†™å†…ç½‘ IPï¼ˆå¦‚ `192.168.1.50`ï¼‰**

> - **å«ä¹‰**ï¼šæŒ‡è¿œç¨‹æœåŠ¡å™¨æ‰€åœ¨çš„**å†…ç½‘ä¸­çš„å¦ä¸€å°æœºå™¨**ã€‚
> - **å†™æ³•**ï¼š`ssh -L 127.0.0.1:8080:192.168.1.50:22 root@1.2.3.4`ã€‚
> - **æ•ˆæœ**ï¼šè¿œç¨‹æœåŠ¡å™¨æ”¶åˆ°æµé‡åï¼Œä¼šåƒâ€œä¼ å£°ç­’â€ä¸€æ ·ï¼ŒæŠŠæµé‡è½¬å‘ç»™å®ƒå±€åŸŸç½‘é‡Œçš„ `192.168.1.50`ã€‚
> - **é€‚ç”¨åœºæ™¯**ï¼šé€šè¿‡ä¸€å°å…¬ç½‘è·³æ¿æœºï¼Œè®¿é—®å†…ç½‘å…¶ä»–æ²¡æœ‰å…¬ç½‘ IP çš„æœåŠ¡å™¨ã€‚

**C. å†™å¤–éƒ¨åŸŸåï¼ˆå¦‚ `www.google.com`ï¼‰**

> - **å«ä¹‰**ï¼šæŒ‡è¿œç¨‹æœåŠ¡å™¨èƒ½çœ‹åˆ°çš„**äº’è”ç½‘åœ°å€**ã€‚
> - **å†™æ³•**ï¼š`ssh -L 127.0.0.1:8080:www.google.com:443 root@1.2.3.4`ã€‚
> - **æ•ˆæœ**ï¼šè¿œç¨‹æœåŠ¡å™¨å¸®ä½ å»è¯·æ±‚ Googleï¼Œç„¶åå†æŠŠç»“æœé€šè¿‡åŠ å¯†éš§é“ä¼ å›ç»™ä½ ã€‚
> - **é€‚ç”¨åœºæ™¯**ï¼šå½“ä½ æœ¬åœ°æ— æ³•ç›´æ¥è®¿é—®æŸä¸ªç½‘ç«™ï¼Œä½†è¿œç¨‹æœåŠ¡å™¨å¯ä»¥è®¿é—®æ—¶ï¼ˆç®€æ˜“çš„ç¿»å¢™æ–¹å¼ï¼‰ã€‚

------

**3. ä¸ºä»€ä¹ˆä½ ç›®æ ‡åœ°å€ç”¨åŸŸåä¼šæŠ¥é”™ï¼Œè€Œ IP ä¸ä¼šï¼Ÿ**

å›é¡¾ä½ ä¹‹å‰é‡åˆ°çš„é—®é¢˜ï¼Œå¦‚æœç›®æ ‡åœ°å€å†™çš„æ˜¯åŸŸåï¼ˆæ¯”å¦‚åœ¨ `/etc/hosts` é‡Œçš„è‡ªå®šä¹‰åŸŸåï¼‰ï¼š

1. ä½ çš„ç”µè„‘æŠŠè¿™ä¸ªâ€œåŸŸåå­—ç¬¦ä¸²â€ä¼ ç»™äº†è¿œç¨‹æœåŠ¡å™¨ã€‚
2. è¿œç¨‹æœåŠ¡å™¨å°è¯•åœ¨**å®ƒè‡ªå·±çš„** `/etc/hosts` å’Œ DNS ç¼“å­˜é‡Œå¯»æ‰¾è¿™ä¸ªåŸŸåã€‚
3. å› ä¸ºé‚£ä¸ªåŸŸåæ˜¯ä½ **æœ¬åœ°**å®šä¹‰çš„ï¼Œè¿œç¨‹æœåŠ¡å™¨æ ¹æœ¬ä¸è®¤è¯†ï¼Œäºæ˜¯è¿æ¥æ–­å¼€ã€‚

**ç»“è®º**ï¼šé™¤éè¿œç¨‹æœåŠ¡å™¨ä¹Ÿèƒ½è§£æé‚£ä¸ªåŸŸåï¼Œå¦åˆ™åœ¨ç›®æ ‡åœ°å€é‡Œ**æ°¸è¿œä¼˜å…ˆä½¿ç”¨ IP æˆ– `localhost`**ã€‚

------

**4. æ€»ç»“å¯¹ç…§è¡¨**

| **ç›®æ ‡åœ°å€å†™æ³•**  | **æµé‡æœ€ç»ˆç›®çš„åœ°**       | **è§£ææƒå½’è°**   |
| ----------------- | ------------------------ | ---------------- |
| **`localhost`**   | è¿œç¨‹æœåŠ¡å™¨æœ¬èº«           | è¿œç¨‹æœåŠ¡å™¨       |
| **`127.0.0.1`**   | è¿œç¨‹æœåŠ¡å™¨æœ¬èº«           | è¿œç¨‹æœåŠ¡å™¨       |
| **`192.168.x.x`** | è¿œç¨‹æœåŠ¡å™¨æ‰€åœ¨å†…ç½‘çš„æœºå™¨ | è¿œç¨‹æœåŠ¡å™¨       |
| **`google.com`**  | äº’è”ç½‘ä¸Šçš„æœåŠ¡å™¨         | è¿œç¨‹æœåŠ¡å™¨çš„ DNS |

------

**5. å¸¸è§å›°æƒ‘ç‚¹ï¼š`127.0.0.1` åˆ°åº•æŒ‡è°ï¼Ÿ**

> - å¦‚æœä½ åœ¨å‘½ä»¤çš„**æœ€å‰é¢**å†™ `127.0.0.1:8080`ï¼Œé‚£æ˜¯æŒ‡**ä½ çš„ç”µè„‘**ã€‚
> - å¦‚æœä½ åœ¨å‘½ä»¤çš„**ä¸­é—´**å†™ `localhost:2095`ï¼Œé‚£æ˜¯æŒ‡**è¿œç¨‹æœåŠ¡å™¨**ã€‚

**ç°åœ¨ä½ åº”è¯¥èƒ½ç†è§£ä¸ºä»€ä¹ˆå‘½ä»¤é‡Œå‡ºç°äº†ä¸¤ä¸ªâ€œæœ¬åœ°â€äº†å§ï¼Ÿä¸€ä¸ªæ˜¯ä½ çš„æœ¬åœ°ï¼Œä¸€ä¸ªæ˜¯æœåŠ¡å™¨çš„æœ¬åœ°ã€‚**



**ğŸŒ€é‡è¦è¯´æ˜ï¼šæœ¬åœ°åœ°å€**

åœ¨ SSH æœ¬åœ°ç«¯å£è½¬å‘å‘½ä»¤ `-L 127.0.0.1:8080:localhost:2095` ä¸­ï¼Œ**â€œæœ¬åœ°åœ°å€â€**ï¼ˆå³æœ€å‰é¢çš„ `127.0.0.1:8080` éƒ¨åˆ†ï¼‰å†³å®šäº†**è°å¯ä»¥è¿›å…¥è¿™æ¡éš§é“**ã€‚

ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆåœ¨ä½ å®¶ï¼ˆæœ¬åœ°ç”µè„‘ï¼‰å¢™ä¸Šå¼€çš„ä¸€ä¸ªâ€œå…¥å£æ’åº§â€ã€‚

------

**1. æœ¬åœ°åœ°å€çš„ç»„æˆéƒ¨åˆ†**

æœ¬åœ°åœ°å€é€šå¸¸ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š**ç›‘å¬ IP** å’Œ **ç›‘å¬ç«¯å£**ã€‚

**A. ç›‘å¬ç«¯å£ (8080)**

> - è¿™æ˜¯åœ¨**ä½ çš„ç”µè„‘**ä¸Šä¸´æ—¶å¼€å¯çš„ä¸€ä¸ªç«¯å£ã€‚
> - åªè¦è¿™ä¸ª SSH è¿›ç¨‹åœ¨è¿è¡Œï¼Œä½ çš„ç”µè„‘å°±ä¼šâ€œå®ˆâ€åœ¨è¿™ä¸ªç«¯å£æ—ï¼Œç­‰å¾…æ•°æ®çš„åˆ°æ¥ã€‚
> - **è§„åˆ™**ï¼šä½ å¿…é¡»é€‰æ‹©ä¸€ä¸ªå½“å‰æ²¡è¢«å ç”¨çš„ç«¯å£ï¼ˆé€šå¸¸å»ºè®®ä½¿ç”¨ 1024 ä»¥ä¸Šçš„ç«¯å£ï¼Œå› ä¸º 1024 ä»¥ä¸‹éœ€è¦ root æƒé™ï¼‰ã€‚

**B. ç›‘å¬ IP (127.0.0.1) â€”â€” æ ¸å¿ƒæ§åˆ¶ç‚¹**

è¿™ä¸ª IP å†³å®šäº†**ç½‘ç»œä¸­çš„å“ªäº›è®¾å¤‡**èƒ½çœ‹åˆ°å¹¶ä½¿ç”¨è¿™ä¸ªâ€œå…¥å£æ’åº§â€ã€‚

------

**2. å¸¸è§çš„æœ¬åœ° IP è®¾ç½®åŠå…¶å«ä¹‰**

æ ¹æ®ä½ å¡«å†™çš„ IP ä¸åŒï¼Œéš§é“çš„å¼€æ”¾ç¨‹åº¦ä¹Ÿä¸åŒï¼š

| **ç›‘å¬ IP å†™æ³•**         | **è®¿é—®æƒé™èŒƒå›´** | **å½¢è±¡åŒ–è§£é‡Š**                                               |
| ------------------------ | ---------------- | ------------------------------------------------------------ |
| **`127.0.0.1`**          | **ä»…é™æœ¬æœº**     | åªæœ‰ä½ è¿™å°ç”µè„‘ä¸Šçš„ç¨‹åºï¼ˆå¦‚æµè§ˆå™¨ï¼‰èƒ½è¿›éš§é“ã€‚å¤–ç•Œå®Œå…¨çœ‹ä¸è§ã€‚ |
| **`localhost`**          | **ä»…é™æœ¬æœº**     | ä¸ 127.0.0.1 åŸºæœ¬ç­‰ä»·ï¼ˆå–å†³äºç³»ç»Ÿçš„ hosts è§£æï¼‰ã€‚           |
| **`0.0.0.0`**            | **å…¨ç½‘å¼€æ”¾**     | åªè¦èƒ½è¿ä¸Šä½ ç”µè„‘ IP çš„è®¾å¤‡ï¼ˆæ‰‹æœºã€åŒäº‹ç”µè„‘ï¼‰ï¼Œéƒ½èƒ½é€šè¿‡ä½ çš„éš§é“ä¸Šç½‘ã€‚ |
| **`192.168.x.x`**        | **å±€åŸŸç½‘æŒ‡å®š**   | ä»…å…è®¸ä½ æ‰€åœ¨å±€åŸŸç½‘å†…çš„è®¾å¤‡è®¿é—®è¯¥éš§é“ã€‚                       |
| **çœç•¥ IP** (å¦‚ `:8080`) | **é»˜è®¤æœ¬æœº**     | å¤§å¤šæ•° SSH å®¢æˆ·ç«¯é»˜è®¤åªå…è®¸æœ¬æœºè®¿é—®ã€‚                        |

------

**3. ä¸ºä»€ä¹ˆä½ è®¾ç½®çš„æ˜¯ `127.0.0.1`ï¼Ÿ**

è¿™æ˜¯**æœ€å®‰å…¨**çš„é»˜è®¤è®¾ç½®ã€‚

> - **é˜²æ­¢è¹­ç½‘**ï¼šå¦‚æœä½ è®¾ä¸º `0.0.0.0`ï¼Œè€Œä½ çš„ç”µè„‘åˆæœ‰ä¸€ä¸ªå…¬ç½‘ IPï¼Œé‚£ä¹ˆå…¨ä¸–ç•Œçš„äººéƒ½å¯ä»¥é€šè¿‡è®¿é—® `ä½ çš„IP:8080` æ¥å…è´¹å€Ÿç”¨ä½ çš„ä»£ç†ä¸Šç½‘ï¼Œç”šè‡³æ”»å‡»ä½ çš„è¿œç¨‹æœåŠ¡å™¨ã€‚
> - **éš”ç¦»é£é™©**ï¼šç¡®ä¿åªæœ‰ä½ è‡ªå·±çš„æµè§ˆå™¨è¯·æ±‚èƒ½è¿›å…¥åŠ å¯†éš§é“ã€‚

------

**4. ä»€ä¹ˆæ—¶å€™éœ€è¦ä¿®æ”¹æœ¬åœ°åœ°å€ï¼Ÿ**

å‡è®¾ä½ æ­£åœ¨ç”¨ç”µè„‘å»ºç«‹ SSH éš§é“ï¼Œä½†ä½ æƒ³ç”¨ **æ‰‹æœº** æµ‹è¯•è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ç½‘é¡µã€‚

1. ä¿®æ”¹å‘½ä»¤ï¼šå°† 127.0.0.1 æ”¹ä¸º 0.0.0.0 æˆ–ä½ çš„å±€åŸŸç½‘ IPï¼ˆå¦‚ 192.168.1.5ï¼‰ã€‚

   ssh -L 0.0.0.0:8080:localhost:2095 root@1.2.3.4

2. **æ‰‹æœºè®¿é—®**ï¼šåœ¨æ‰‹æœºæµè§ˆå™¨è¾“å…¥ `http://192.168.1.5:8080`ã€‚

3. **ç»“æœ**ï¼šæ‰‹æœºçš„æµé‡å…ˆå‘ç»™ç”µè„‘ï¼Œç”µè„‘å†é€šè¿‡ SSH éš§é“ä¼ ç»™è¿œç¨‹æœåŠ¡å™¨ã€‚

> **æ³¨æ„**ï¼šå¦‚æœä½ å°†ç›‘å¬ IP æ”¹ä¸º `0.0.0.0`ï¼Œè®°å¾—æ£€æŸ¥ä½ ç”µè„‘çš„é˜²ç«å¢™ï¼ˆWindows Defender æˆ– ufwï¼‰ï¼Œç¡®ä¿ 8080 ç«¯å£è¢«å…è®¸å…¥ç«™ã€‚

------

**5. å¦‚ä½•ç¡®è®¤æœ¬åœ°åœ°å€æ˜¯å¦ç”Ÿæ•ˆï¼Ÿ**

ä½ å¯ä»¥ä½¿ç”¨ `netstat` å‘½ä»¤æŸ¥çœ‹ä½ çš„ç”µè„‘æ˜¯å¦çœŸçš„åœ¨â€œå®ˆé—¨â€ï¼š

```bash
# åœ¨ä½ è‡ªå·±çš„ç”µè„‘ä¸Šè¿è¡Œ
netstat -ant | grep 8080
```

> - **å¦‚æœæ˜¾ç¤º `127.0.0.1:8080`**ï¼šè¯´æ˜éš§é“å·²å¼€ï¼Œä»…ä½ è‡ªå·±å¯ç”¨ã€‚
> - **å¦‚æœæ˜¾ç¤º `0.0.0.0:8080`**ï¼šè¯´æ˜éš§é“å·²å¼€ï¼Œå…¨ç½‘å¯è§ã€‚
> - **å¦‚æœæ˜¾ç¤º `192.168.1.5:8080`**ï¼šè¯´æ˜éš§é“å·²å¼€ï¼Œ192.168.1.x/24ç½‘æ®µå±€åŸŸç½‘å¯è§ã€‚
> - **å¦‚æœæ²¡æœ‰è¾“å‡º**ï¼šè¯´æ˜ SSH è¿æ¥æ²¡å»ºç«‹æˆåŠŸï¼Œæˆ–è€…ç«¯å£è½¬å‘é…ç½®å¤±è´¥ã€‚

------

**æ€»ç»“å¯¹ç…§ï¼šä¸¤ä¸ªåœ°å€çš„åŒºåˆ«**

> - **æœ¬åœ°åœ°å€ (`127.0.0.1:8080`)**ï¼šæµé‡çš„**å…¥å£**ï¼Œå†³å®šè°èƒ½è¿›éš§é“ï¼ˆç”±ä½ ç”µè„‘çš„ç½‘å¡æ§åˆ¶ï¼‰ã€‚
> - **ç›®æ ‡åœ°å€ (`localhost:2095`)**ï¼šæµé‡çš„**å‡ºå£**ï¼Œå†³å®šæ•°æ®å»å“ªï¼ˆç”±è¿œç¨‹æœåŠ¡å™¨æ§åˆ¶ï¼‰ã€‚

**ç°åœ¨ä½ å¯¹â€œæœ¬åœ°åœ°å€â€çš„æƒé™æ§åˆ¶æ¸…æ¥šäº†å—ï¼Ÿå¦‚æœä½ æƒ³æ›´å®‰å…¨ä¸€ç‚¹ï¼Œå…¶å®è¿˜å¯ä»¥ç»™ SSH å¢åŠ å¯†é’¥è®¤è¯ï¼Œè¿™æ ·å³ä½¿åˆ«äººçŸ¥é“äº†ä½ çš„éš§é“å…¥å£ï¼Œä¹Ÿæ— æ³•è½»æ˜“è¿æ¥ã€‚**



### 5.5 é…ç½®C-Féš§é“

ç™»å½•ï¼šhttps://dash.cloudflare.com/

ç‚¹è¿™ä¸ª

![image-20260101153237325](img/image-20260101153237325.png) 

 ç‚¹è¿™ä¸ª

![image-20260101153406895](img/image-20260101153406895.png) 

é€‰è¿™ä¸ª

![image-20260101153530057](img/image-20260101153530057.png) 

ç‚¹è¿™ä¸ª

![image-20260101153641304](img/image-20260101153641304.png) 

ç»§ç»­ç‚¹å‡»**zero turst**

ç‚¹å‡»è¿™ä¸ª

![image-20260101154029252](img/image-20260101154029252.png) 

ç‚¹è¿™ä¸ª

![image-20260101154115279](img/image-20260101154115279.png) 

ç‚¹è¿™ä¸ª

![image-20260101154200438](img/image-20260101154200438.png) 

å¤åˆ¶å¯†é’¥ï¼Œä¸‹ä¸€æ­¥

**æŠŠå¯†é’¥ä¿å­˜åœ¨ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œåè¾¹è¦ç”¨**

![image-20260101154555093](img/image-20260101154555093.png) 

ç‚¹è¿™ä¸ªï¼Œæ·»åŠ åŸŸååˆ°vpsç«¯å£æ˜ å°„

> [!NOTE]
>
> > **ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å°±ï¼šnode1**
> >
> > **ç¬¬äºŒä¸ªèŠ‚ç‚¹å°±ï¼šnode2**
> >
> > **........**
> >
> > **æ¯”å¦‚ä½ ä½¿ç”¨s-uié¢æ¿ï¼Œæ·»åŠ äº†vpsèŠ‚ç‚¹**
> >
> > **å¼€å¯äº†ä¸€ä¸ªhttpç±»å‹çš„èŠ‚ç‚¹ï¼Œç›‘å¬ç«¯å£443ï¼Œå°±è¿™æ ·å†™ï¼šhttp://localhost:443**

![image-20260101154935338](img/image-20260101154935338.png) 

ä¹‹åè¦æ·»åŠ å…¶å®ƒéš§é“èŠ‚ç‚¹ï¼Œç‚¹è¿™ä¸ª

![image-20260101155217683](img/image-20260101155217683.png) 

å®‰è£…éš§é“

```bash
#æ•™ç¨‹ï¼šhttps://amclubss.com/argo
bash <(curl -Ls https://raw.githubusercontent.com/amclubs/am-serv00-vmess/main/install-argo.sh)


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   ğŸš€ æ•°å­—å¥—åˆ© Cloudflare Argo å®‰è£…å™¨        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

\033[0;32mğŸ“º YouTubeé¢‘é“ï¼š https://youtube.com/@am_clubs
\033[0;32mğŸ’¬ TGäº¤æµç¾¤ç»„ï¼š https://t.me/am_clubs
\033[0;32mğŸ’» GitHubä»“åº“ï¼š https://github.com/amclubs
\033[0;32mğŸŒ ä¸ªäººåšå®¢ï¼š https://amclubss.com
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1) å®‰è£… Argo Tunnel
2) å¸è½½ Argo Tunnel
3) é€€å‡ºè„šæœ¬

â†’ è¯·é€‰æ‹©æ“ä½œ (1/2/3): 1

ğŸŸ¢ è¿›å…¥å®‰è£…æµç¨‹...
Last metadata expiration check: 2:03:46 ago on Wed 31 Dec 2025 11:54:33 PM CST.
Package curl-7.76.1-34.el9.x86_64 is already installed.
Package wget-1.21.1-8.el9_4.x86_64 is already installed.
Dependencies resolved.
Nothing to do.
Complete!
â†’ æ­£åœ¨å®‰è£… cloudflared...
â†’ âœ… cloudflared å®‰è£…å®Œæˆï¼š /usr/local/bin/cloudflared
â†’ æ£€æµ‹åˆ° cloudflared ç‰ˆæœ¬ï¼š2025.11.1
  âœ” æ–°ç‰ˆ cloudflared æ£€æµ‹åˆ°ï¼Œå°†å¯ç”¨æ–°ç‰ˆå…¼å®¹æ¨¡å¼ï¼ˆä¸ä½¿ç”¨ --config å‚æ•°ï¼‰

éœ€è¦é…ç½®å¤šå°‘ä¸ªåŸŸå->ç«¯å£ï¼Ÿ(ä¾‹å¦‚ 2)ï¼š 1 #æ ¹æ®ä½ é¢æ¿é…ç½®çš„èŠ‚ç‚¹æ•°ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©1ï¼Œæˆ‘åªé…ç½®äº†ä¸€ä¸ªèŠ‚ç‚¹

#é…ç½®åŸŸå-å…¥å£-éš§é“-é…ç½®-å·²é…ç½®åŸŸåã€‚å¤åˆ¶ç²˜è´´
=== é…ç½®ç¬¬ 1 ä¸ªåŸŸå ===
è¯·è¾“å…¥è¦ç»‘å®šçš„åŸŸåï¼ˆPublic Hostnameï¼‰ï¼š node1.xxx.xxx.org #ä½ çš„cloudflareéš§é“é…ç½®çš„èŠ‚ç‚¹åŸŸå
è¯·è¾“å…¥æœ¬åœ°ç›‘å¬ç«¯å£ï¼ˆé»˜è®¤ 443ï¼‰ï¼š 443 #ä½ çš„s-uièŠ‚ç‚¹çš„ç«¯å£

è¯·é€‰æ‹©ä¼ è¾“æ–¹å¼ï¼š
1) WebSocketï¼ˆé»˜è®¤ï¼‰
2) gRPC
3) TCP
é€‰æ‹©ä¼ è¾“ç±»å‹ (1/2/3ï¼Œé»˜è®¤ 1)ï¼š 1 #é€šå¸¸éƒ½æ˜¯WebSocket
è¯·è¾“å…¥ WebSocket è·¯å¾„ï¼ˆé»˜è®¤ /ï¼‰ï¼š / #é€šå¸¸ä¹Ÿæ˜¯/
è¯·è¾“å…¥åè®®ç±»å‹ (http/https/tcpï¼Œé»˜è®¤ http)ï¼š http #æ¨èhttpï¼Œæ ¹æ®èŠ‚ç‚¹ä¸å«tlsï¼Œä»¥åŠä½ çš„cloudflareéš§é“é…ç½®ä¹Ÿæ˜¯http

è¯·é€‰æ‹©å‡­è¯æ–¹å¼ï¼š
1) Cloudflare Tokenï¼ˆæ¨èï¼‰
2) credentials JSONï¼ˆç›´æ¥ç²˜è´´å†…å®¹ï¼‰
é€‰æ‹© (1/2) é»˜è®¤ 1ï¼š 1 #Cloudflare Tokenï¼ˆæ¨èï¼‰
è¯·è¾“å…¥ Cloudflare Tunnel Tokenï¼ˆä»¥ eyJ å¼€å¤´ï¼‰ï¼š eyJh #ä½ çš„cloudflare-(zere-trust)-å…¥å£-éš§é“-é…ç½®-å·²é…ç½®åŸŸåã€‚å¤åˆ¶ç²˜è´´

#æŠ¥é”™
===========================================================================
âœ– Cloudflared å¯åŠ¨å¤±è´¥ï¼
------------------------------------------------------------
å¯èƒ½åŸå› å¦‚ä¸‹ï¼š
  [1] å‡­è¯ Token æˆ– credentials JSON æ— æ•ˆï¼ˆç™»å½• Cloudflare Zero Trust æ£€æŸ¥ï¼‰
  [2] config.yml æ ¼å¼é”™è¯¯ï¼ˆç¼©è¿›æˆ–å†’å·é”™ä½ï¼‰
  [3] ç«¯å£æœªå¼€æ”¾ / è¢«å ç”¨ï¼ˆæ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å…¶ä»–è¿›ç¨‹ä½¿ç”¨ï¼‰
  [4] ç½‘ç»œè¢«é˜²ç«å¢™æˆ–ä»£ç†é˜»æ–­ï¼ˆcloudflared æ— æ³•è¿æ¥ Cloudflareï¼‰
------------------------------------------------------------
ğŸ“‹ å¿«é€Ÿæ’æŸ¥å‘½ä»¤ï¼š
  journalctl -u cloudflared -n 50 --no-pager
  systemctl status cloudflared
------------------------------------------------------------
â— è§£å†³åå¯æ‰§è¡Œï¼š systemctl restart cloudflared

âš ï¸ å®‰è£…æœªæˆåŠŸï¼Œè¯·å…ˆæ’æŸ¥ä¸Šè¿°é—®é¢˜åé‡è¯•ã€‚
==========================================================================

#ç¼–è¾‘æœåŠ¡é…ç½®ï¼Œå»æ‰--configå‚æ•°
[root@racknerd-0566bb5 ~]# cat /etc/systemd/system/cloudflared.service
[Unit]
Description=Cloudflare Tunnel Service
After=network-online.target

[Service]
Type=simple
ExecStart=/usr/local/bin/cloudflared tunnel run --token eyJh.....
Restart=on-failure
RestartSec=5s
User=root
WorkingDirectory=/root/.cloudflared

[Install]
WantedBy=multi-user.target

#é‡å¯æœåŠ¡
[root@racknerd-0566bb5 ~]# systemctl daemon-reload
[root@racknerd-0566bb5 ~]# systemctl restart cloudflared.service
```

æ˜¾ç¤ºè¿™ä¸ªï¼Œå°±æ‰“é€šäº†éš§é“

![image-20260101173310935](img/image-20260101173310935.png) 



### 5.6 å®¢æˆ·ç«¯æµ‹è¯•

å®¢æˆ·ç«¯ç²˜è´´è®¢é˜…åœ°å€ï¼ŒæŠŠæœåŠ¡å™¨ä¸»æœºæ”¹ä¸ºéš§é“èŠ‚ç‚¹  **node1.xxx.xxx.org**

ç«¯å£ï¼š443

ä¼ è¾“å±‚åŠ å¯†ï¼štls

è®¿é—®æ²¹ç®¡æˆåŠŸï¼š

![image-20260101190251185](img/image-20260101190251185.png) 



## 6.è¢«å°IPæ€ä¹ˆè¿æ¥vps

### 6.1 å‰ææ¡ä»¶

å¦‚æœä½ çš„vpsæœåŠ¡å™¨IPåœ°å€è¢«å°ï¼Œå¤§é™†æ²¡æ³•ç›´æ¥  ssh è¿æ¥ç®¡ç†

ä½ éœ€è¦èƒ½å¤Ÿç¿»å‡ºå»ï¼Œclash , v2rayN , å¯»æ‰¾æœºåœºç­‰ç­‰å„ç§èƒ½è®©ä½ å‡ºå»çš„æ–¹å¼ï¼Œæµ·å¤–äº‘æœåŠ¡å™¨ä¹Ÿå¯ä»¥

æˆ–è€…é…ç½®æœ¬æ•™ç¨‹ **5æ­¥éª¤** çš„éš§é“æŠ€æœ¯èŠ‚ç‚¹ï¼Œç»ˆæé˜²å¤±è”ï¼Œä½¿ç”¨å®ƒæ¥ä»£ç† ssh è¿æ¥ç®¡ç†è¢«å¢™çš„ vps **[å¼ºçƒˆæ¨è]**

æˆ–è€…ä¸è·‘è·¯æœºåœºï¼š[é“¾æ¥ç›´è¾¾](https://mitce.net/aff.php?aff=26603)

æµ·å¤–äº‘æœåŠ¡å™¨ä¸ç”¨å¤šè¯´ï¼Œè¿æ¥å®ƒç›´æ¥å°±èƒ½ç”¨å®ƒ  ssh  è·³è½¬è¿æ¥ä½ è¢«å¢™çš„vps

**é‡ç‚¹è¯´ä¸€è¯´å¦‚ä½•ï¼šé€šè¿‡ä»£ç†sshè¿æ¥è¢«å¢™vps**

æˆ‘ä»¬ç”¨ [é›·ç”µæ¨¡æ‹Ÿå™¨](https://www.ldmnq.com) å®‰è£…ä»»æ„ä»£ç†å®¢æˆ·ç«¯ï¼Œæ‰“å¼€ä»£ç†clash , v2rayNï¼Œ[NekoBoxä¸‹è½½](https://github.com/MatsuriDayo/NekoBoxForAndroid/releases/tag/1.4.0)ï¼Œå¹¶ä½¿ç”¨ **[every-proxy](https://apkcombo.com/zh/every-proxy/com.gorillasoftware.everyproxy/download/phone-14.2-apk)** è½¯ä»¶ï¼Œå¼€æ”¾ `http` ä»£ç†ç«¯å£ `8080` ä»¥åŠ `socks5` ä»£ç†ç«¯å£ `1080`

è‡³æ­¤ï¼Œå‡†å¤‡å·¥ä½œç»“æŸï¼Œæ¥ç€çœ‹ä¸‹ä¸€æ­¥............

### 6.2 ä¸€èˆ¬æƒ…å†µ

ğŸŒ€**ä¸€èˆ¬httpåè®®ä»£ç†ç”¨é€”**

```bash
#ä¸´æ—¶é…ç½®ç¯å¢ƒå˜é‡
â•°â”€ export http_proxy='http://192.168.1.150:8080'
â•°â”€ export https_proxy='http://192.168.1.150:8080'
â•°â”€ export all_proxy='socks5://192.168.1.150:1080'
â•°â”€ export no_proxy='localhost,127.0.0.1,192.168.44.0/24,192.168.1.0/24'

#æ°¸ä¹…é…ç½®ç¯å¢ƒå˜é‡
â•°â”€ vim ~/.zshrc   #shelæ˜¯zshçš„é…ç½®è¿™ä¸ªæ–‡ä»¶
â•°â”€ vim ~/.bashrc  #shelæ˜¯bashçš„é…ç½®è¿™ä¸ªæ–‡ä»¶

#æ·»åŠ å¦‚ä¸‹4è¡Œåˆ°æ–‡ä»¶æœ€å
export http_proxy='http://192.168.1.150:8080'
export https_proxy='http://192.168.1.150:8080'
export all_proxy='socks5://192.168.1.150:1080'
export no_proxy='localhost,127.0.0.1,192.168.44.0/24,192.168.1.0/24'

#æˆ–è€…åˆ›å»ºå‡½æ•°ï¼Œä¸€åŠ³æ°¸é€¸
â•°â”€ vim ~/.zshrc
â•°â”€ vim ~/.bashrc
=================================================================================
# set proxy on
proxy_on() {

    export http_proxy="http://192.168.1.150:8080"
    export https_proxy="http://192.168.1.150:8080"
    export all_proxy="socks5://192.168.1.150:1080"
    export no_proxy="localhost,127.0.0.1,192.168.44.0/24,192.168.1.0/24"
    echo "proxy on!"
}

# set proxy off
proxy_off() {

    unset http_proxy
    unset https_proxy
    unset all_proxy
    unset no_proxy
    echo "proxy off!"
}
=================================================================================

#ç”Ÿæ•ˆé…ç½®
â•°â”€ source ~/.zshrc
â•°â”€ source ~/.bashrc

#å¼€å¯ä»£ç†
proxy_on

#å…³é—­ä»£ç†
proxy_off

#æµ‹è¯•è®¿é—®è°·æ­Œ
â•°â”€ curl google.com
<HTML><HEAD><meta http-equiv="content-type" content="text/html;charset=utf-8">
<TITLE>301 Moved</TITLE></HEAD><BODY>
<H1>301 Moved</H1>
The document has moved
<A HREF="http://www.google.com/">here</A>.
</BODY></HTML>
```

### 6.3 ç‰¹æ®Šæƒ…å†µ

ğŸŒ€**ç‰¹æ®Šç”¨é€”**

**sshèƒ½ä¸èƒ½é€šè¿‡ä»£ç†è¿æ¥è¢«å¢™çš„IPåœ°å€å‘¢ï¼Ÿ**

å¯ä»¥ï¼Œä½†**å•çº¯è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆå¦‚ `all_proxy`ï¼‰å¯¹ SSH æ˜¯æ— æ•ˆçš„**ã€‚

è¿™æ˜¯å› ä¸º SSH å®¢æˆ·ç«¯ï¼ˆ`ssh` å‘½ä»¤ï¼‰è®¾è®¡å¾—éå¸¸åº•å±‚ä¸”è¿½æ±‚å®‰å…¨ï¼Œå®ƒé»˜è®¤**ä¸ä¼šè¯»å–** `all_proxy` æˆ– `http_proxy` ç¯å¢ƒå˜é‡ã€‚è¦è®© SSH èµ°ä»£ç†ï¼Œä½ éœ€è¦é€šè¿‡ **`ProxyCommand`** æˆ–è€… **`ProxyJump`** æ¥å®ç°ã€‚

------

**æ–¹æ³•ä¸€ï¼šä½¿ç”¨ `nc` (Netcat) æˆ– `ncat` (æœ€æ¨è)**

è¿™æ˜¯æœ€é€šç”¨çš„æ–¹æ³•ã€‚é€šè¿‡ `ProxyCommand` å‘Šè¯‰ SSHï¼šä¸è¦è‡ªå·±å»è¿ç›®æ ‡ IPï¼Œè€Œæ˜¯é€šè¿‡ä¸€ä¸ªä»£ç†é€šé“æŠŠæµé‡ä¼ è¿‡å»ã€‚

1. å¦‚æœä½ çš„ä»£ç†æ˜¯ SOCKS5ï¼š

```bash
#å®‰è£…ncat
yum provides nc
yum install nmap-ncat

#é€šè¿‡ä»£ç†sshè¿æ¥
ssh -o "ProxyCommand=ncat --proxy-type socks5 --proxy 192.168.1.150:1080 %h %p" root@ä½ çš„è¢«å¢™IP
```

- `--proxy-type`ï¼šæŒ‡å®šä½¿ç”¨ SOCKS5 åè®®ã€‚
- `--proxy 192.168.1.150:1080`ï¼šä½ çš„æœ¬åœ°ä»£ç†åœ°å€ï¼ˆæ¨¡æ‹Ÿå™¨åœ°å€ï¼‰ã€‚
- `%h %p`ï¼šè‡ªåŠ¨æ›¿æ¢ä¸ºç›®æ ‡ä¸»æœºåå’Œç«¯å£ã€‚

2. å¦‚æœä½ çš„ä»£ç†æ˜¯ HTTPï¼š

```bash
#å®‰è£…ncat
yum provides nc
yum install nmap-ncat

#é€šè¿‡ä»£ç†sshè¿æ¥
ssh -o "ProxyCommand=ncat --proxy-type http --proxy 192.168.1.150:8080 %h %p" root@ä½ çš„è¢«å¢™IP
```

- `--proxy-type`ï¼šæŒ‡å®šä½¿ç”¨ HTTP åè®®ã€‚
- `--proxy 192.168.1.150:8080`ï¼šä½ çš„æœ¬åœ°ä»£ç†åœ°å€ï¼ˆæ¨¡æ‹Ÿå™¨åœ°å€ï¼‰ã€‚
- `%h %p`ï¼šè‡ªåŠ¨æ›¿æ¢ä¸ºç›®æ ‡ä¸»æœºåå’Œç«¯å£ã€‚

------

**æ–¹æ³•äºŒï¼šæ°¸ä¹…é…ç½®ï¼ˆä¸€åŠ³æ°¸é€¸ï¼‰**

å¦‚æœä½ ä¸æƒ³æ¯æ¬¡éƒ½è¾“å…¥é‚£ä¹ˆé•¿çš„å‘½ä»¤ï¼Œå¯ä»¥ä¿®æ”¹ä½ æœ¬åœ°çš„ SSH é…ç½®æ–‡ä»¶ `~/.ssh/config`ï¼š

1. å¦‚æœä½ çš„ä»£ç†æ˜¯ SOCKS5ï¼š

```bash
Host my-server
    HostName 1.2.3.4  # è¢«å¢™çš„ IP
    User root
    Port 22
    # åªè¦è®¿é—®è¿™ä¸ª Hostï¼Œå°±è‡ªåŠ¨èµ°ä»£ç†
    ProxyCommand ncat --proxy-type socks5 --proxy 192.168.1.150:1080 %h %p
```

è®¾ç½®åï¼Œä½ åªéœ€è¦æ‰§è¡Œï¼š`ssh my-server` å³å¯ã€‚

2. å¦‚æœä½ çš„ä»£ç†æ˜¯ HTTPï¼š

```bash
Host my-server
    HostName 1.2.3.4  # è¢«å¢™çš„ IP
    User root
    Port 22
    # åªè¦è®¿é—®è¿™ä¸ª Hostï¼Œå°±è‡ªåŠ¨èµ°ä»£ç†
    ProxyCommand ncat --proxy-type http --proxy 192.168.1.150:8080 %h %p
```

è®¾ç½®åï¼Œä½ åªéœ€è¦æ‰§è¡Œï¼š`ssh my-server` å³å¯ã€‚

------

**æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ `ProxyJump` (å¦‚æœä½ æœ‰å¦ä¸€å°æ²¡è¢«å¢™çš„æœåŠ¡å™¨ï¼Œæ¯”å¦‚æµ·å¤–äº‘æœåŠ¡å™¨)**

å¦‚æœä½ æ²¡æœ‰æœ¬åœ°ä»£ç†å·¥å…·ï¼Œä½†æœ‰ä¸€å°å¯ä»¥æ­£å¸¸è¿æ¥çš„â€œè·³æ¿æœºâ€ï¼ˆBæœåŠ¡å™¨ï¼‰ï¼Œå¯ä»¥é€šè¿‡å®ƒä¸­è½¬è¿æ¥è¢«å¢™çš„ A æœåŠ¡å™¨ï¼š

```bash
ssh -J userB@è·³æ¿æœºIP userA@è¢«å¢™IP
```

- **åŸç†**ï¼šæµé‡å…ˆåŠ å¯†å‘é€åˆ°è·³æ¿æœºï¼Œå†ç”±è·³æ¿æœºè¿æ¥ç›®æ ‡ IPã€‚

------

å¸¸è§é—®é¢˜æ’æŸ¥

| **ç°è±¡**               | **åŸå› **           | **è§£å†³æ–¹æ³•**                                                 |
| ---------------------- | ------------------ | ------------------------------------------------------------ |
| **æ‰¾ä¸åˆ° nc å‘½ä»¤**     | ç³»ç»Ÿæ²¡è£… `netcat`  | å®‰è£…ï¼š`sudo apt install netcat-openbsd` æˆ– `yum install nmap-ncat` |
| **Connection refused** | ä»£ç†æ²¡å¼€å¯æˆ–ç«¯å£é”™ | æ£€æŸ¥ `ss -tunpl` ç¡®è®¤ 1080 ç«¯å£æ˜¯å¦åœ¨ç›‘å¬ã€‚                  |
| **nc ä¸æ”¯æŒ -X å‚æ•°**  | ç”¨çš„æ˜¯ä¼ ç»Ÿ nc      | å°è¯•ä½¿ç”¨ `ncat` (nmap è‡ªå¸¦) æ›¿ä»£ã€‚                           |

------

ä¸ºä»€ä¹ˆ `all_proxy` æ²¡ç”¨ï¼Ÿ

å› ä¸º SSH ä½¿ç”¨çš„æ˜¯è‡ªå®šä¹‰çš„åŠ å¯†äºŒè¿›åˆ¶æµï¼Œè€Œ `all_proxy` ä¸»è¦æ˜¯ä¸º HTTP/HTTPS åº”ç”¨ç¨‹åºå‡†å¤‡çš„ã€‚SSH éœ€è¦çš„æ˜¯ä¸€ä¸ªèƒ½é€æ˜è½¬å‘åŸå§‹ TCP æµçš„å·¥å…·ï¼ˆå¦‚ `nc` æˆ– `ncat`ï¼‰ã€‚

**ä½ ç›®å‰ç”µè„‘ä¸Šè¿è¡Œçš„ä»£ç†å·¥å…·ï¼ˆå¦‚ Clash æˆ– V2Rayï¼‰æä¾›çš„æœ¬åœ°ç«¯å£æ˜¯ SOCKS5 è¿˜æ˜¯ HTTPï¼Ÿ** å‘Šè¯‰æˆ‘ç«¯å£ç±»å‹ï¼Œæˆ‘å¯ä»¥ç»™ä½ æä¾›æœ€å‡†ç¡®çš„é…ç½®ã€‚

### 6.4 å¦‚ä½•é€šè¿‡ä»£ç†+éš§é“è®¿é—®ã€è¢«å¢™ã€‘é¢æ¿

é¦–å…ˆä½ éœ€è¦ä¸€ä¸ªLinuxè™šæ‹Ÿæœºæ¯”å¦‚ï¼š **VMware** ï¼Œå¦‚æœæœ‰å›¾å½¢ç•Œé¢æ¯”å¦‚ï¼š**kali-Linux** ï¼ˆè¿™ç§æœ€ç®€å•äº†ï¼‰

ğŸŒ€**æœ‰å›¾å½¢ç•Œé¢çš„Linuxè™šæ‹Ÿæœº**

æ‰§è¡Œsshéš§é“å‘½ä»¤ï¼Œåœ¨ **Linuxé‡Œè¾¹** æµè§ˆå™¨è®¿é—®ï¼šhttp://127.0.0.1:8080/app/  å³å¯

```bash
=> ï…¹ root @ ó°Œ½ almalinux: ó°‰‹ ~----------------------------------------------------------------------------------------------------------------------------------------
âœ ssh -N \
-L 127.0.0.1:8080:localhost:2095 \
-o "ProxyCommand=ncat --proxy-type socks5 --proxy 192.168.1.131:1080 %h %p" \
-o "ServerAliveInterval=60" \
-o "ServerAliveCountMax=3" root@1.2.3.4

#-N  --åªå¹²ç«¯å£è½¬å‘çš„æ´»å„¿ï¼Œä¸è¿›å…¥shell
#-L  --æœ¬åœ°è½¬å‘
#127.0.0.1:8080  --åœ¨æœ¬æœºLinuxç›‘å¬8080ç«¯å£
#localhost:2095  --å°†è¿œç¨‹æœåŠ¡å™¨ï¼ˆ1.2.3.4ï¼‰è§†è§’ä¸‹çš„ localhost:2095 æ˜ å°„è¿‡æ¥ï¼Œå‡è®¾2095å°±æ˜¯ä½ çš„S-UIé¢æ¿
#-o "ProxyCommand=ncat --proxy-type socks5 --proxy 192.168.1.131:1080 %h %p"  --ä½ æŒ‡å®šäº†sshèµ°192.168.1.131:1080çš„socks5ä»£ç†
#-o "ServerAliveInterval=60"  --æ¯ 60 ç§’å‘ä¸€æ¬¡å¿ƒè·³
#-o "ServerAliveCountMax=3"   --å¦‚æœå‘äº† 3 æ¬¡å¿ƒè·³éƒ½æ²¡æœ‰å›åº”ï¼Œè‡ªåŠ¨æ–­å¼€è¿æ¥ï¼ˆé˜²æ­¢å‘½ä»¤å‡æ­»æŒ‚åœ¨é‚£é‡Œï¼‰
#root@1.2.3.4  --ä½ çš„è¢«å¢™vpsç™»å½•ä¿¡æ¯ï¼Œrootè¡¨ç¤ºç”¨æˆ·åï¼Œ1.2.3.4è¡¨ç¤ºIPåœ°å€
```

ğŸŒ€**å¦‚æœä½ çš„Linuxæ²¡æœ‰å›¾å½¢ç•Œé¢ï¼Œä¹Ÿä¸éš¾**

æ‰§è¡Œè¿™ç§sshéš§é“å‘½ä»¤ï¼Œåœ¨ **Windowsé‡Œè¾¹** æµè§ˆå™¨è®¿é—®ï¼šhttp://192.168.44.201:8080/app/  å³å¯

```bash
=> ï…¹ root @ ó°Œ½ almalinux: ó°‰‹ ~----------------------------------------------------------------------------------------------------------------------------------------
âœ ssh -N \
-L 192.168.44.201:8080:localhost:2095 \
-o "ProxyCommand=ncat --proxy-type socks5 --proxy 192.168.1.131:1080 %h %p" \
-o "ServerAliveInterval=60" \
-o "ServerAliveCountMax=3" root@1.2.3.4
```

**å‘½ä»¤è¯¦ç»†ä»‹ç»**

è¿™æ˜¯ä¸€ä¸ªéå¸¸å…¸å‹çš„ **â€œå¥—å¨ƒâ€å¼å‘½ä»¤**ã€‚å®ƒç»“åˆäº† **SSH éš§é“ï¼ˆæœ¬åœ°ç«¯å£è½¬å‘ï¼‰** å’Œ **SSH ä»£ç†è·³è½¬ï¼ˆé€šè¿‡ SOCKS5 ä»£ç†ï¼‰** ä¸¤ä¸ªé«˜çº§åŠŸèƒ½ã€‚

ç®€å•æ¥è¯´ï¼Œè¿™ä¸ªå‘½ä»¤çš„ä½œç”¨æ˜¯ï¼š**é€šè¿‡ä¸€ä¸ªå†…ç½‘ä»£ç†æœåŠ¡å™¨è¿æ¥åˆ°ä¸€ä¸ªè¢«å¢™ï¼ˆæˆ–è¿œç¨‹ï¼‰çš„æœåŠ¡å™¨ï¼Œå¹¶æŠŠé‚£ä¸ªæœåŠ¡å™¨ä¸Šçš„ 2095 ç«¯å£æ˜ å°„åˆ°ä½ æœ¬åœ°ç”µè„‘çš„ 8080 ç«¯å£ã€‚**

------

**1. å‘½ä»¤å„éƒ¨åˆ†æ‹†è§£**

æˆ‘ä»¬å°†è¿™ä¸ªé•¿å‘½ä»¤æ‹†æˆä¸‰ä¸ªé€»è¾‘éƒ¨åˆ†æ¥çœ‹ï¼š

| **ç»„æˆéƒ¨åˆ†**                     | **å«ä¹‰**         | **å…·ä½“ä½œç”¨**                                                 |
| -------------------------------- | ---------------- | ------------------------------------------------------------ |
| **`ssh -N -L ...`**              | **æœ¬åœ°ç«¯å£è½¬å‘** | **æ˜ å°„ç«¯å£**ã€‚`-N` è¡¨ç¤ºä¸æ‰§è¡Œè¿œç¨‹å‘½ä»¤ï¼ˆä¸æ‰“å¼€ shellï¼‰ï¼Œåªè´Ÿè´£è½¬å‘ã€‚ |
| **`192.168.44.201:8080`**        | **æœ¬åœ°ç›‘å¬åœ°å€** | åœ¨ä½ æœ¬åœ°**Linux**ç”µè„‘çš„ `192.168.44.201` è¿™ä¸ªç½‘å¡çš„ `8080` ç«¯å£å¼€å¯ç›‘å¬ã€‚ |
| **`localhost:2095`**             | **è¿œç¨‹ç›®æ ‡ç«¯å£** | å°†è¿œç¨‹æœåŠ¡å™¨ï¼ˆ1.2.3.4ï¼‰è§†è§’ä¸‹çš„ `localhost:2095` æ˜ å°„è¿‡æ¥ã€‚  |
| **`-o "ProxyCommand=..."`**      | **ä»£ç†è·³è½¬æŒ‡ä»¤** | **è¿æ¥æ–¹å¼**ã€‚å‘Šè¯‰ SSH ä¸è¦ç›´æ¥è¿ 1.2.3.4ï¼Œè€Œæ˜¯å…ˆé€šè¿‡ä»£ç†ã€‚  |
| **`ncat --proxy...`**            | **SOCKS5 ä»£ç†**  | ä½¿ç”¨ `192.168.1.131:1080` è¿™ä¸ª SOCKS5 ä»£ç†ä½œä¸ºè·³æ¿ï¼ˆ**ä½ çš„æ¨¡æ‹Ÿå™¨åœ°å€**ï¼‰ã€‚ |
| **`-o "ServerAlive..."`**        | **å¿ƒè·³æœºåˆ¶**     | æ¯ 60 ç§’ç»™æœåŠ¡å™¨å‘ä¸ªâ€œåœ¨å—ï¼Ÿâ€ï¼Œé˜²æ­¢å› ä¸ºé•¿æ—¶é—´æ²¡æ“ä½œè¢«é˜²ç«å¢™è¸¢ä¸‹çº¿ã€‚ |
| **`-o "ServerAliveCountMax=3"`** | **å¿ƒè·³æ¬¡æ•°**     | å¦‚æœå‘äº† 3 æ¬¡å¿ƒè·³éƒ½æ²¡æœ‰å›åº”ï¼Œè‡ªåŠ¨æ–­å¼€è¿æ¥ï¼ˆé˜²æ­¢å‘½ä»¤å‡æ­»æŒ‚åœ¨é‚£é‡Œï¼‰ã€‚ |
| **`root@1.2.3.4`**               | **ç›®æ ‡æœåŠ¡å™¨**   | æœ€ç»ˆä½ è¦ç™»å½•çš„ã€ä½äºå…¬ç½‘ï¼ˆ**æˆ–è¢«å¢™**ï¼‰çš„æœåŠ¡å™¨ã€‚             |

**2. æµé‡çš„â€œé•¿é€”æ—…è¡Œâ€è·¯å¾„**

å½“ä½ è¿è¡Œè¿™æ¡å‘½ä»¤åï¼Œå¦‚æœä½ åœ¨å±€åŸŸç½‘å¦ä¸€å°ç”µè„‘è®¿é—® `http://192.168.44.201:8080`ï¼Œæµé‡æ˜¯è¿™æ ·è·‘çš„ï¼š

1. **ç¬¬ä¸€ç«™ï¼ˆä½ çš„Windowsç”µè„‘ï¼‰**ï¼šæµé‡è¿›å…¥è¯¥Linuxç”µè„‘çš„ `8080` ç«¯å£ã€‚
2. **ç¬¬äºŒç«™ï¼ˆå†…ç½‘è·³æ¿ï¼‰**ï¼šæµé‡è¢«å¡è¿› `ncat`ï¼Œå‘ç»™å†…ç½‘ä»£ç† `192.168.1.131:1080`ï¼ˆSOCKS5ï¼‰ã€‚
3. **ç¬¬ä¸‰ç«™ï¼ˆå…¬ç½‘ç©¿è¶Šï¼‰**ï¼šä»£ç†æœåŠ¡å™¨æŠŠè¿™ä¸€å›¢åŠ å¯†çš„æ•°æ®å‘å¾€å…¬ç½‘æœåŠ¡å™¨ `1.2.3.4`ã€‚
4. **ç»ˆç‚¹ï¼ˆç›®æ ‡æœåŠ¡å™¨å†…éƒ¨ï¼‰**ï¼š`1.2.3.4` æ”¶åˆ°æ•°æ®å¹¶è§£å¯†ï¼Œå‘ç°ä½ è¦æ‰¾å®ƒè‡ªå·±çš„ `2095` ç«¯å£ï¼Œäºæ˜¯æŠŠæ•°æ®è½¬äº¤ç»™è¯¥ç«¯å£çš„æœåŠ¡ï¼ˆæ¯”å¦‚ä¸€ä¸ªç®¡ç†åå°ï¼‰ã€‚

------

**3. ä¸ºä»€ä¹ˆè¦è¿™æ ·å†™ï¼Ÿï¼ˆå®æˆ˜åœºæ™¯ï¼‰**

- **åœºæ™¯ Aï¼šç»•è¿‡é˜²ç«å¢™å°é”** ä½ æ— æ³•ç›´æ¥è¿æ¥ `1.2.3.4`ï¼ˆå¯èƒ½è¢«å¢™æˆ–è¢«å°ï¼‰ï¼Œä½† `192.168.1.131` è¿™å°æœºå™¨æœ‰æƒè®¿é—®å¤–ç½‘ï¼Œæ‰€ä»¥ä½ å€Ÿå®ƒçš„é€šé“â€œå·æ¸¡â€å‡ºå»ã€‚
- **åœºæ™¯ Bï¼šå…±äº«è¿œç¨‹æœåŠ¡ç»™åŒäº‹** ä½ æ˜ å°„çš„ä¸æ˜¯ `127.0.0.1` è€Œæ˜¯ `192.168.44.201`ã€‚è¿™æ„å‘³ç€**åŒå±€åŸŸç½‘çš„å…¶ä»–åŒäº‹**åªè¦è®¿é—®ä½ çš„ IP:8080ï¼Œå°±èƒ½çœ‹åˆ°æœåŠ¡å™¨ä¸Šçš„ 2095 ç«¯å£å†…å®¹ã€‚
- **åœºæ™¯ Cï¼šè®¿é—®å—é™çš„åå°** æœåŠ¡å™¨ä¸Šçš„ 2095 ç«¯å£å¯èƒ½åªå…è®¸æœ¬åœ°è®¿é—®ï¼ˆLocalhost onlyï¼‰ï¼Œé€šè¿‡ SSH éš§é“ï¼Œä½ æˆåŠŸéª—è¿‡äº†æœåŠ¡å™¨ï¼Œè®©å®ƒä»¥ä¸ºè¯·æ±‚æ˜¯æ¥è‡ªå®ƒå†…éƒ¨çš„ã€‚

------

**4. è¿›é˜¶å»ºè®®**

- **åå°è¿è¡Œ**ï¼šå¦‚æœä½ ä¸å¸Œæœ›è¿™ä¸ªå‘½ä»¤ä¸€ç›´éœ¸å ä½ çš„ç»ˆç«¯ï¼Œå¯ä»¥åŠ ä¸€ä¸ª **`-f`** å‚æ•°ï¼ˆå¦‚ `ssh -fN ...`ï¼‰ï¼Œå®ƒä¼šåœ¨åå°è¿è¡Œã€‚
- **æŸ¥çœ‹çŠ¶æ€**ï¼šå¦‚æœæƒ³ç¡®è®¤éš§é“æ˜¯å¦è¿˜åœ¨ï¼Œå¯ä»¥ç”¨ `ps aux | grep 'ssh'` æŸ¥çœ‹è¿›ç¨‹ã€‚
- **å…³é—­éš§é“**ï¼šæ‰¾åˆ°å¯¹åº”çš„è¿›ç¨‹å·ï¼ˆPIDï¼‰ï¼Œä½¿ç”¨ `kill <PID>` å³å¯å…³é—­ã€‚

**å¦‚æœä½ ç°åœ¨è®¿é—® 8080 ç«¯å£å´æç¤ºâ€œè¿æ¥å¤±è´¥â€ï¼Œé€šå¸¸æ˜¯å› ä¸º**

> - **è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ 2095 æœåŠ¡æ²¡å¯åŠ¨ï¼Œ**
> - **æˆ–è€…2095ä¸æ˜¯ç›‘å¬åœ¨localhostä¸Šè€Œæ˜¯ä¸€ä¸ªæŒ‡å®šçš„IPï¼Œ**
> - **æˆ–è€…ä½ çš„ä»£ç†æœåŠ¡å™¨ä¸æ”¯æŒä¸­è½¬ SSH æµé‡ï¼Œ**
> - **æˆ–è€…ä½ çš„æœ¬åœ°è™šæ‹Ÿæœºé˜²ç«å¢™æ²¡æœ‰å¼€æ”¾8080ç«¯å£ï¼Œ**
> - **æˆ–è€…ä½ å¼„åäº†ä»€ä¹ˆä¸œè¥¿ã€‚**

------

**<font color=red>5.ä¸ºä»€ä¹ˆå†™è·³æ¿æœºåœ°å€ç”¨åŸŸåä¼šæŠ¥é”™ï¼Ÿ</font>**

```bash
=> ï…¹ root @ ó°Œ½ almalinux: ó°‰‹ ~----------------------------------------------------------------------------------------------------------------------------------------
âœ cat /etc/hosts
127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6

1.2.3.4 host.myusvps.com

=> ï…¹ root @ ó°Œ½ almalinux: ó°‰‹ ~----------------------------------------------------------------------------------------------------------------------------------------
âœ ssh -N \
-L 192.168.44.201:8080:localhost:2095 \
-o "ProxyCommand=ncat --proxy-type socks5 --proxy 192.168.1.131:1080 %h %p" \
-o "ServerAliveInterval=60" \
-o "ServerAliveCountMax=3" root@host.myusvps.com
```

è¿™ä¸ªé—®é¢˜éå¸¸å…¸å‹ï¼ŒåŸå› åœ¨äº **`ncat`ï¼ˆä»£ç†å·¥å…·ï¼‰å’Œ `ssh`ï¼ˆå®¢æˆ·ç«¯ï¼‰åœ¨åŸŸåè§£æä¸Šçš„â€œåˆ†å·¥â€ä¸æ˜ç¡®** å¯¼è‡´çš„ã€‚

ç®€è€Œè¨€ä¹‹ï¼š**ä½ æœ¬åœ°ç”µè„‘è®¤è¯†è¿™ä¸ªåŸŸåï¼Œä½†è´Ÿè´£å¸®ä½ â€œè·‘è…¿â€çš„ä»£ç†æœåŠ¡å™¨ï¼ˆ192.168.1.131ï¼‰ä¸è®¤è¯†å®ƒã€‚**

------

**1. æ·±åº¦æ‹†è§£ï¼šä¸ºä»€ä¹ˆåŸŸåä¼šå¤±è´¥ï¼Ÿ**

å½“ä½ æŒ‰ä¸‹å›è½¦æ—¶ï¼Œå‘ç”Ÿäº†ä¸€åœºé”™è¯¯çš„â€œæ¥åŠ›â€ï¼š

> 1. **SSH é¢„å¤„ç†**ï¼šSSH çœ‹åˆ°ä½ è¦è¿ `host.myusvps.com`ã€‚å®ƒå‡†å¤‡å¥½è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶å‡†å¤‡æ‰§è¡Œ `ProxyCommand`ã€‚
> 2. **å˜é‡æ›¿æ¢**ï¼šSSH æŠŠå‚æ•° `%h` æ›¿æ¢æˆäº†å­—ç¬¦ä¸² `"host.myusvps.com"`ï¼Œç„¶åå¯åŠ¨ `ncat`ã€‚
> 3. **ncat å‘èµ·ä»£ç†è¯·æ±‚**ï¼š`ncat` è¿æ¥åˆ°ä½ çš„ SOCKS5 ä»£ç†ï¼ˆ192.168.1.131ï¼‰ã€‚å®ƒå¯¹ä»£ç†æœåŠ¡å™¨è¯´ï¼šâ€œè¯·å¸®æˆ‘è¿æ¥åˆ° `host.myusvps.com` çš„ 22 ç«¯å£â€ã€‚
> 4. **ä»£ç†æœåŠ¡å™¨è§£æå¤±è´¥ï¼ˆå…³é”®ç‚¹ï¼‰**ï¼š
>    - **å¦‚æœä½ åœ¨ `/etc/hosts` å†™çš„è§£æ**ï¼šä»£ç†æœåŠ¡å™¨ï¼ˆ192.168.1.131ï¼‰æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è®¾å¤‡æˆ–è½¯ä»¶ï¼Œå®ƒ**è¯»ä¸åˆ°**ä½ æœ¬åœ°ç”µè„‘çš„ `/etc/hosts` æ–‡ä»¶ã€‚
>    - **å¦‚æœåŸŸåæ˜¯ç§æœ‰çš„/æœªç”Ÿæ•ˆçš„**ï¼šä»£ç†æœåŠ¡å™¨ä¼šå»å…¬ç½‘ DNSï¼ˆå¦‚ 8.8.8.8ï¼‰æŸ¥æ‰¾ã€‚å¦‚æœæŸ¥ä¸åˆ°ï¼Œä»£ç†æœåŠ¡å™¨å°±ä¼šè¿”å›ä¸€ä¸ªâ€œä¸»æœºä¸å¯è¾¾â€çš„é”™è¯¯ã€‚
> 5. **æ¡æ‰‹å¤±è´¥**ï¼š`ncat` æ— æ³•å»ºç«‹è¿æ¥ï¼ŒSSH å®¢æˆ·ç«¯éšä¹‹æŠ¥é”™ `kex_exchange_identification: Connection closed`ã€‚

------

**2. ä¸ºä»€ä¹ˆæ¢æˆ IP å°±å¥½äº†ï¼Ÿ**

å½“ä½ æ¢æˆ IPï¼ˆå¦‚ `1.2.3.4`ï¼‰æ—¶ï¼š

> - `ncat` å‘Šè¯‰ä»£ç†æœåŠ¡å™¨ï¼šâ€œè¯·å¸®æˆ‘è¿æ¥åˆ° `1.2.3.4`â€ã€‚
> - IP åœ°å€æ˜¯ç‰©ç†å­˜åœ¨çš„ï¼Œ**ä¸éœ€è¦è§£æ**ã€‚ä»£ç†æœåŠ¡å™¨ç›´æ¥å°±èƒ½æ‰¾åˆ°ç›®æ ‡ï¼Œéš§é“é¡ºåˆ©æ‰“é€šã€‚

------

**3. å¦‚ä½•åœ¨ä¿ç•™åŸŸåçš„åŒæ—¶ä¿®å¤å®ƒï¼Ÿ**

å¦‚æœä½ è§‰å¾—è®° IP å¤ªç—›è‹¦ï¼Œæƒ³ç”¨åŸŸåï¼Œæœ‰ä¸¤ç§æœ€ç§‘å­¦çš„è§£å†³æ–¹æ³•ï¼š

**æ–¹æ³• Aï¼šä½¿ç”¨ SSH é…ç½®æ–‡ä»¶ï¼ˆæœ€æ¨èï¼‰**

åœ¨ `~/.ssh/config` ä¸­ï¼Œä½ å¯ä»¥åˆ©ç”¨ `Host` åˆ«ååŠŸèƒ½ã€‚SSH ä¼šåœ¨æœ¬åœ°å…ˆå°†åˆ«åè½¬æ¢ä¸º `HostName`ï¼ˆIPï¼‰ï¼Œå†ä¼ ç»™ä»£ç†ã€‚

1. ç¼–è¾‘é…ç½®ï¼š`nano ~/.ssh/config`
2. å†™å…¥ï¼š

```bash
Host myvps
    HostName 1.2.3.4              # è¿™é‡Œå¡«çœŸå®çš„ IP
    User root
    ProxyCommand ncat --proxy-type socks5 --proxy 192.168.1.131:1080 %h %p
    LocalForward 192.168.44.201:8080 localhost:2095
    ServerAliveInterval 60
    ServerAliveCountMax 3
```

3. è¿è¡Œå‘½ä»¤ï¼š**`ssh -N myvps`**

   æ­¤æ—¶ %h ä¼šè¢«è‡ªåŠ¨æ›¿æ¢ä¸º 1.2.3.4ï¼Œncat æ‹¿åˆ°çš„ç›´æ¥å°±æ˜¯ IPã€‚

**æ–¹æ³• Bï¼šåœ¨å‘½ä»¤ä¸­ç¡¬ç¼–ç  IP**

å¦‚æœä½ ä¸æƒ³æ”¹é…ç½®ï¼Œå¯ä»¥ä¿®æ”¹ `ProxyCommand` é‡Œçš„å˜é‡ï¼ŒæŠŠ `%h` æ‰‹åŠ¨æ”¹æˆ IPï¼š

```bash
ssh -N \
-L 192.168.44.201:8080:localhost:2095 \
-o "ProxyCommand=ncat --proxy-type socks5 --proxy 192.168.1.131:1080 1.2.3.4 %p" \
-o "ServerAliveInterval=60" \
-o "ServerAliveCountMax=3" root@host.myusvps.com
```

------

**æ€»ç»“**

è¿™ä¸ªæŠ¥é”™çš„æœ¬è´¨æ˜¯ï¼š**SOCKS5 ä»£ç†é»˜è®¤ä¼šå°†åŸŸåè§£ææƒäº¤ç»™ä»£ç†æœåŠ¡å™¨ï¼ˆRemote DNSï¼‰**ã€‚

å¦‚æœä½ æœ¬åœ°çš„ `/etc/hosts` é‡Œå®šä¹‰äº†ä¸€ä¸ªåªæœ‰ä½ è‡ªå·±çŸ¥é“çš„åŸŸåï¼Œé‚£ä¹ˆè·¨è¿‡ä»£ç†æ—¶ï¼Œè¿™ä¸ªåŸŸåå°±â€œå¤±æ•ˆâ€äº†ã€‚

**ä½ çš„ `host.myusvps.com` æ˜¯åœ¨ `/etc/hosts` é‡Œå®šä¹‰çš„â€œå‡åŸŸåâ€ï¼Œè¿˜æ˜¯å·²ç»åœ¨å…¬ç½‘ç”Ÿæ•ˆçš„çœŸå®åŸŸåï¼Ÿ** å¦‚æœæ˜¯çœŸå®çš„ä½†ä¾ç„¶æŠ¥é”™ï¼Œé‚£è¯´æ˜ä½ çš„ä»£ç†æœåŠ¡å™¨ï¼ˆ192.168.1.131ï¼‰çš„ DNS é…ç½®å¯èƒ½æœ‰é—®é¢˜ã€‚

------

**6. å·æ‡’é…ç½®**

å¦‚æœä½ ç»å¸¸éœ€è¦å»ºç«‹è¿™ä¸ªéš§é“ï¼Œå»ºè®®ä¿®æ”¹ `~/.ssh/config`ï¼ŒæŠŠæ‰€æœ‰æ‚ä¹±çš„å‚æ•°éƒ½ **`â€œè—èµ·æ¥â€`**ï¼š

1. ç¼–è¾‘æ–‡ä»¶ï¼š`nano ~/.ssh/config`
2. å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š

```bash
#å‘½ä»¤ç‰ˆ
=> ï…¹ root @ ó°Œ½ almalinux: ó°‰‹ ~----------------------------------------------------------------------------------------------------------------------------------------
âœ ssh -N \
-L 192.168.44.201:8080:localhost:2095 \
-o "ProxyCommand=ncat --proxy-type socks5 --proxy 192.168.1.131:1080 %h %p" \
-o "ServerAliveInterval=60" \
-o "ServerAliveCountMax=3" root@1.2.3.4

#é…ç½®æ–‡ä»¶ç‰ˆ
=> ï…¹ root @ ó°Œ½ almalinux: ó°‰‹ ~----------------------------------------------------------------------------------------------------------------------------------------
âœ vim ~/.ssh/config
===========================================================================================
Host host.my-vps-server.com
    # 1. è¿™é‡Œç›´æ¥å†™æ­»äº‘æœåŠ¡å™¨ IPï¼Œç¡®ä¿ ncat æ‹¿åˆ°çš„æ˜¯ IP è€Œä¸æ˜¯åŸŸå
    HostName 1.2.3.4
    
    # 2. ä½ çš„äº‘æœåŠ¡å™¨ vps ç™»å½•ç”¨æˆ·å
    User root
    
    # 3. ä»£ç†é…ç½®ï¼šè¿™é‡Œ %h ä¼šè¢«è‡ªåŠ¨æ›¿æ¢ä¸ºä¸Šé¢çš„ 1.2.3.4
    ProxyCommand ncat --proxy-type socks5 --proxy 192.168.1.131:1080 %h %p
    
    # 4. æœ¬åœ°ç«¯å£è½¬å‘ï¼šæœ¬åœ° 8080 æ˜ å°„åˆ°è¿œç¨‹ 2095 ï¼Œæ³¨æ„ï¼šå¦‚æœä½ å¸Œæœ›å±€åŸŸç½‘å…¶ä»–æœºå™¨ä¹Ÿèƒ½è®¿é—®ï¼Œä¿ç•™ 192.168.44.201 æˆ–å…·ä½“çš„æœ¬åœ° IP
    LocalForward 192.168.44.201:8080 localhost:2095
    
    # 5. ä¿æŒè¿æ¥æ´»è·ƒï¼Œé˜²æ­¢è¢«ä»£ç†æˆ–é˜²ç«å¢™è¸¢ä¸‹çº¿
    ServerAliveInterval 60
    ServerAliveCountMax 3
===========================================================================================
```

3. **ä¹‹ååªéœ€è¦è¿è¡Œä¸€ä¸ªè¶…ç®€å•çš„å‘½ä»¤ï¼š**

Bashå³å¯å¼€å¯ ssh éš§é“

```bash
ssh -N host.my-vps-server.com
```

------

**ä½ è¦ä¸è¦è¯•ç€æ‰§è¡Œä¸€ä¸‹å¸¦ `-f` å‚æ•°çš„ç‰ˆæœ¬ï¼Ÿ** è¿™æ ·ä½ æ‰§è¡Œå®Œå‘½ä»¤åï¼Œå°±å¯ä»¥ç»§ç»­åœ¨è¿™ä¸ªç»ˆç«¯é‡Œåšå…¶ä»–æ“ä½œï¼Œè€Œéš§é“ä¼šåœ¨åå°é»˜é»˜è¿è¡Œã€‚

```bash
ssh -fN host.my-vps-server.com
```

**æŸ¥çœ‹çŠ¶æ€**ï¼šå¦‚æœæƒ³ç¡®è®¤éš§é“æ˜¯å¦è¿˜åœ¨ï¼Œå¯ä»¥ç”¨ `ps aux | grep 'ssh'` æŸ¥çœ‹è¿›ç¨‹ã€‚

**å…³é—­éš§é“**ï¼šæ‰¾åˆ°å¯¹åº”çš„è¿›ç¨‹å·ï¼ˆPIDï¼‰ï¼Œä½¿ç”¨ `kill <PID>` å³å¯å…³é—­ã€‚

å®Œç»“ğŸŠğŸŠ.........

